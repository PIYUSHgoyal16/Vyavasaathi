(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{"/zj7":function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i("f6cb"),s=i("JX91"),a=i("KtYJ"),r=i("8Y7J");const c=["*"];let o=(()=>{class e{constructor(){this.ListItemType=a.f,this.bodyEdgeToEdge=!1,this.bottomBorder=!1,this.clickable=!1,this.expandable=!1,this.selectable=!1,this.transparent=!1,this.outerPadding=!0,this.indent=!1,this.padding=a.e.XSMALL,this.inputAlignment=a.d.CENTER,this.selectByKeyboard=!1,this.type=a.f.DEFAULT,this.ariaRole="list"}ngOnChanges(){this.applyPropertiesToChildren()}ngAfterContentInit(){this.childListSubscription=this.listItemComponents.changes.pipe(Object(s.a)(this.listItemComponents.toArray())).subscribe(()=>this.applyPropertiesToChildren())}ngOnDestroy(){this.childListSubscription&&this.childListSubscription.unsubscribe()}handleKeyboardEvent(e){var t,i,s,a,r,c;const o=null===(t=e.key)||void 0===t?void 0:t.toLowerCase();this.selectByKeyboard&&["arrowup","up"].includes(o)?this.activeListItem?Object(n.g)(this.activeListItemIndex)&&this.activeListItemIndex>=0&&this.activeListItemIndex--:this.activeListItemIndex=this.listItemComponents.length-1:this.selectByKeyboard&&["arrowdown","down","tab"].includes(o)&&(this.activeListItem?Object(n.g)(this.activeListItemIndex)&&this.activeListItemIndex<this.listItemComponents.length&&this.activeListItemIndex++:this.activeListItemIndex=0),this.selectByKeyboard&&Object(n.g)(this.activeListItemIndex)&&(null===(i=this.activeListItem)||void 0===i||i.deactivate(),null===(s=this.activeListItem)||void 0===s||s.changeDetectorRef.detectChanges(),this.activeListItem=this.listItemComponents.find((e,t)=>t===this.activeListItemIndex),"enter"===o?null===(a=this.activeListItem)||void 0===a||a.select():(null===(r=this.activeListItem)||void 0===r||r.highlight(),null===(c=this.activeListItem)||void 0===c||c.changeDetectorRef.detectChanges()))}applyPropertiesToChildren(){this.listItemComponents&&this.listItemComponents.forEach((e,t,i)=>{e.changeDetectorRef.detach(),e.bodyEdgeToEdge=this.bodyEdgeToEdge,e.bottomBorder=this.bottomBorder,e.clickable=this.clickable,e.expandable=this.expandable,e.indent=this.indent,e.inputAlignment=this.inputAlignment,e.padding=this.padding,e.paddingDesktop=this.paddingDesktop,e.selectable=this.selectable,e.selectByKeyboard=this.selectByKeyboard,e.transparent=this.transparent,e.outerPadding=this.outerPadding,e.type=this.type,e.first=0===t,e.last=t===i.length-1,e.changeDetectorRef.reattach(),e.changeDetectorRef.detectChanges()})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Mb({type:e,selectors:[["fl-list"]],contentQueries:function(e,t,i){if(1&e&&r.Lb(i,a.b,0),2&e){let e;r.Mc(e=r.oc())&&(t.listItemComponents=e)}},hostVars:2,hostBindings:function(e,t){1&e&&r.nc("keydown",function(e){return t.handleKeyboardEvent(e)},!1,r.Oc),2&e&&r.Hb("data-type",t.type)("role",t.ariaRole)},inputs:{bodyEdgeToEdge:"bodyEdgeToEdge",bottomBorder:"bottomBorder",clickable:"clickable",expandable:"expandable",selectable:"selectable",transparent:"transparent",outerPadding:"outerPadding",indent:"indent",padding:"padding",paddingDesktop:"paddingDesktop",inputAlignment:"inputAlignment",selectByKeyboard:"selectByKeyboard",type:"type"},features:[r.Eb],ngContentSelectors:c,decls:1,vars:0,template:function(e,t){1&e&&(r.yc(),r.xc(0))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:auto}[data-type=ordered][_nghost-%COMP%]{counter-reset:list}"],changeDetection:0}),e})()},"5vZq":function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i("8Y7J");let s=(()=>{class e{constructor(e,t){this.templateRef=e,this.viewContainer=t}set flRepeat(e){for(let t=0;t<e;t++)this.viewContainer.createEmbeddedView(this.templateRef,{$implicit:[e,t],index:t,repeats:e})}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(n.P),n.Sb(n.U))},e.\u0275dir=n.Nb({type:e,selectors:[["","flRepeat",""]],inputs:{flRepeat:"flRepeat"}}),e})()},Kqyd:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i("fVXH"),s=i("f6cb"),a=i("tbiQ"),r=i("pLZG"),c=i("zp1y"),o=i("lJxs");function l(e,t,i){return e.fromServerStream$.pipe(Object(r.a)(n.a),Object(c.a)(t.pipe(Object(r.a)(s.g)),i),Object(r.a)(([e,t,i])=>"messages"===e.body.parent_type),Object(o.a)(([e,t,i])=>{const{body:n}=e,s=Number(t.userId);if("messages"===n.parent_type&&"thread_id"in n.data){const e=n.targets.filter(e=>e!==s),t=n.data.thread_id;switch(n.type){case"video:request":if(n.data.user_id!==s&&!i)return{type:a.a.VIDEO,otherMembers:e,threadId:t,makingCall:!1,recorded:!1};break;case"video:request:audio_only":if(n.data.user_id!==s&&!i)return{type:a.a.AUDIO,otherMembers:e,threadId:t,makingCall:!1,recorded:!1};break;case"video:request:audio_only:recorded":if(n.data.user_id!==s&&!i)return{type:a.a.AUDIO,otherMembers:e,threadId:t,makingCall:!1,recorded:!0};break;case"video:close":case"video:reject":return{type:a.a.NONE,otherMembers:e,threadId:t,makingCall:!1,recorded:!1};case"video:accept":return{type:a.a.NONE,otherMembers:e,threadId:t,makingCall:!0,recorded:!1}}}}))}},Pza9:function(e,t,i){"use strict";i.d(t,"b",function(){return O}),i.d(t,"a",function(){return z});var n=i("8Y7J"),s=i("B23V"),a=i("dO68"),r=i("QLMp"),c=i("bxmY"),o=i("HsDr"),l=i("9Aot"),d=i("Krui"),h=i("o9eT"),g=i("qf7G"),f=i("SVse"),b=i("w13q"),u=i("ZJBR");const p=["button"],m=["content"];function T(e,t){if(1&e&&n.Tb(0,"fl-icon",13),2&e){const e=n.rc();n.zc("name",e.iconLabel)("size",e.IconSize.SMALL)("flMarginRight",e.Margin.XXSMALL)}}function S(e,t){if(1&e&&(n.Yb(0,"fl-bit",14),n.Tb(1,"fl-picture",15),n.Xb()),2&e){const e=n.rc();n.zc("flMarginRight",e.Margin.XXSMALL),n.Gb(1),n.zc("src",e.logoSrc)("alt",e.logoAlt)("fullWidth",!0)("display",e.PictureDisplay.BLOCK)}}function M(e,t){if(1&e&&(n.Wb(0),n.cd(1),n.Vb()),2&e){const e=n.rc();n.Gb(1),n.ed(" ",e.buttonTextApplied," ")}}function C(e,t){if(1&e&&n.cd(0),2&e){const e=n.rc();n.ed(" ",e.buttonText," ")}}function y(e,t){if(1&e&&n.Tb(0,"fl-icon",16),2&e){const e=n.rc();n.zc("name","ui-chevron-down")("size",e.IconSize.XSMALL)}}const I=function(e){return{IsActive:e}},x=function(e){return{DropdownFilterLabel:e}},L=["*"];var O=function(e){return e.FLUID="fluid",e.INHERIT="inherit",e}({});let z=(()=>{class e{constructor(e){this.renderer=e,this.ButtonColor=s.a,this.ButtonSize=a.a,this.CalloutPlacement=r.a,this.IconColor=o.c,this.IconSize=o.e,this.FontType=h.b,this.Margin=l.a,this.PictureDisplay=d.b,this.isActive=!1,this.contentPlacement=r.a.BOTTOM,this.contentSize=O.FLUID,this.edgeToEdge=!1,this.hideDropdownIcon=!1,this.logoAlt="",this.disabled=!1,this.display="inline",this.filterApplied=!1,this.autoClose=!1}close(){this.calloutComponent.close()}handleTrigger(){this.contentSize===O.INHERIT&&this.setContentWidth()}toggleState(){this.isActive=!this.isActive}handleContentClicked(){this.autoClose&&this.close()}setContentWidth(){const e=this.button.nativeElement.getBoundingClientRect().width;this.renderer.setStyle(this.content.nativeElement,"width",`${e}px`)}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(n.G))},e.\u0275cmp=n.Mb({type:e,selectors:[["fl-dropdown-filter"]],viewQuery:function(e,t){if(1&e&&(n.jd(p,1,n.l),n.jd(m,1,n.l),n.jd(c.a,1)),2&e){let e;n.Mc(e=n.oc())&&(t.button=e.first),n.Mc(e=n.oc())&&(t.content=e.first),n.Mc(e=n.oc())&&(t.calloutComponent=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&n.Hb("disabled",t.disabled)("data-display",t.display)},inputs:{buttonText:"buttonText",buttonTextApplied:"buttonTextApplied",contentPlacement:"contentPlacement",contentSize:"contentSize",edgeToEdge:"edgeToEdge",hideDropdownIcon:"hideDropdownIcon",iconLabel:"iconLabel",logoSrc:"logoSrc",logoAlt:"logoAlt",disabled:"disabled",display:"display",filterApplied:"filterApplied",autoClose:"autoClose"},ngContentSelectors:L,decls:16,vars:24,consts:[[3,"edgeToEdge","hideArrow","hideCloseButton","placement","mobileCloseButton","calloutOpen","calloutClose"],[1,"DropdownFilterTrigger",3,"trigger"],[1,"DropdownFilterButton",3,"ngClass","color","display","size","disabled"],["button",""],[3,"ngClass"],[1,"DropdownFilterButtonInner"],["class","DropdownFilterIcon",3,"name","size","flMarginRight",4,"ngIf"],["class","DropdownLogo",3,"flMarginRight",4,"ngIf"],[4,"ngIf","ngIfElse"],["plainButtonText",""],["class","DropdownFilterArrow",3,"name","size",4,"ngIf"],[1,"DropdownFilterContent",3,"fontType","click"],["content",""],[1,"DropdownFilterIcon",3,"name","size","flMarginRight"],[1,"DropdownLogo",3,"flMarginRight"],[3,"src","alt","fullWidth","display"],[1,"DropdownFilterArrow",3,"name","size"]],template:function(e,t){if(1&e&&(n.yc(),n.Yb(0,"fl-callout",0),n.nc("calloutOpen",function(){return t.toggleState()})("calloutClose",function(){return t.toggleState()}),n.Yb(1,"fl-callout-trigger",1),n.nc("trigger",function(){return t.handleTrigger()}),n.Yb(2,"fl-button",2,3),n.Yb(4,"fl-bit",4),n.Yb(5,"fl-bit",5),n.ad(6,T,1,3,"fl-icon",6),n.ad(7,S,2,5,"fl-bit",7),n.ad(8,M,2,1,"ng-container",8),n.ad(9,C,1,1,"ng-template",null,9,n.bd),n.Xb(),n.ad(11,y,1,2,"fl-icon",10),n.Xb(),n.Xb(),n.Xb(),n.Yb(12,"fl-callout-content"),n.Yb(13,"fl-text",11,12),n.nc("click",function(){return t.handleContentClicked()}),n.xc(15),n.Xb(),n.Xb(),n.Xb()),2&e){const e=n.Nc(10);n.zc("edgeToEdge",!0)("hideArrow",!0)("hideCloseButton",!0)("placement",t.contentPlacement)("mobileCloseButton",!1),n.Gb(1),n.Hb("disabled",t.disabled),n.Gb(1),n.zc("ngClass",n.Ec(20,I,t.isActive))("color",t.ButtonColor.CUSTOM)("display","block")("size",t.ButtonSize.SMALL)("disabled",t.disabled),n.Hb("data-applied",t.filterApplied),n.Gb(2),n.zc("ngClass",n.Ec(22,x,!t.hideDropdownIcon)),n.Gb(2),n.zc("ngIf",t.iconLabel),n.Gb(1),n.zc("ngIf",t.logoSrc&&!t.iconLabel),n.Gb(1),n.zc("ngIf",t.filterApplied&&t.buttonTextApplied)("ngIfElse",e),n.Gb(3),n.zc("ngIf",!t.hideDropdownIcon),n.Gb(2),n.zc("fontType",t.FontType.CONTAINER),n.Hb("data-edge-to-edge",t.edgeToEdge)}},directives:[c.a,g.a,s.b,f.o,b.a,f.q,u.a,h.e,o.d,l.b,d.a],styles:["[_nghost-%COMP%]{display:inline-block}[disabled=true][_nghost-%COMP%]{pointer-events:none}[data-display=block][_nghost-%COMP%]{display:block;width:100%}.DropdownFilterButton[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #bec0c2;display:block;font-weight:400}.DropdownFilterButton[disabled=true][_ngcontent-%COMP%]{background:#f7f7f7;border-color:#f7f7f7;color:#4d525b}.DropdownFilterButton[data-applied=true][_ngcontent-%COMP%]{background:#dbf4ff;border-color:#139ff0}.DropdownFilterButton.IsActive[_ngcontent-%COMP%], .DropdownFilterButton[_ngcontent-%COMP%]:hover{border-color:#139ff0}.DropdownFilterButtonInner[_ngcontent-%COMP%]{align-items:center;display:flex}.DropdownFilterContent[_ngcontent-%COMP%]{word-break:break-word;word-wrap:break-word}.DropdownFilterContent[data-edge-to-edge=false][_ngcontent-%COMP%]{padding:16px}.DropdownFilterArrow[_ngcontent-%COMP%]{padding-left:4px}.DropdownFilterTrigger[_ngcontent-%COMP%]{display:block}.DropdownFilterLabel[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.DropdownLogo[_ngcontent-%COMP%]{flex:0 0 30px;width:30px}"],changeDetection:0}),e})()},VSCx:function(e,t,i){"use strict";i.d(t,"a",function(){return Gt});var n=i("8Y7J"),s=i("9Aot"),a=i("4ykm"),r=i("2zwU"),c=i("f6cb"),o=i("tbiQ"),l=i("tsv4"),d=i("b6KT"),h=i("LRne"),g=i("2Vo4"),f=i("VRyK"),b=i("itXk"),u=i("lJxs"),p=i("JX91"),m=i("pLZG"),T=i("/uUt"),S=i("zp1y"),M=i("Kqyd"),C=i("s7LF"),y=i("HsDr"),I=i("KtYJ"),x=function(e){return e.CONTEXT_TITLE="Context Title",e.USERNAME="Username",e}({}),L=function(e){return e.ATTACHMENT="Attachment",e.CONTEXT_TITLE="Context Title",e.DELETED_PROJECT="Deleted Project",e.DELETED_CONTEST="Deleted Contest",e.LAST_MESSAGE="Last Message",e.TEAMS="Teams",e}({}),O=function(e){return e.ACTIVE="Active",e.UNREAD="Unread",e.SUPPORT="Support",e.ARCHIVED="Archived",e}({}),z=function(e){return e[e.FULL_LIST=0]="FULL_LIST",e[e.SPINNER=1]="SPINNER",e}({}),w=i("Pza9"),A=i("KUXl"),$=i("/zj7"),E=i("DSso"),v=i("o9eT");const k=O.ACTIVE;let R=(()=>{class e{constructor(){this.IconColor=y.c,this.ListItemType=I.f,this.ThreadFilterOption=O,this.filterSelected=new n.n}ngOnInit(){this.filterControl=new C.f(k),this.filterControlSubscription=this.filterControl.valueChanges.subscribe(e=>this.filterSelected.emit(e))}ngOnDestroy(){this.filterControlSubscription&&this.filterControlSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["app-messaging-threads-filters"]],inputs:{hasExistingThreads:"hasExistingThreads"},outputs:{filterSelected:"filterSelected"},decls:14,vars:17,consts:function(){let e,t,i,n,s;return e="Filter",t=" Active ",i=" Unread ",n=" Support ",s=" Archived ",[["flTrackingSection","InboxWidgetThreadFilters","buttonText",e,3,"buttonTextApplied","autoClose","edgeToEdge","filterApplied","hideDropdownIcon","iconLabel","disabled"],[3,"clickable","type"],["flTrackingLabel","InboxWidgetActiveFilter",3,"control","radioValue"],t,["flTrackingLabel","InboxWidgetUnreadFilter",3,"control","radioValue"],i,["flTrackingLabel","InboxWidgetSupportFilter",3,"control","radioValue"],n,["flTrackingLabel","InboxWidgetArchivedFilter",3,"control","radioValue"],s]},template:function(e,t){1&e&&(n.Yb(0,"fl-dropdown-filter",0),n.Yb(1,"fl-list",1),n.Yb(2,"fl-list-item",2),n.Yb(3,"fl-text"),n.cc(4,3),n.Xb(),n.Xb(),n.Yb(5,"fl-list-item",4),n.Yb(6,"fl-text"),n.cc(7,5),n.Xb(),n.Xb(),n.Yb(8,"fl-list-item",6),n.Yb(9,"fl-text"),n.cc(10,7),n.Xb(),n.Xb(),n.Yb(11,"fl-list-item",8),n.Yb(12,"fl-text"),n.cc(13,9),n.Xb(),n.Xb(),n.Xb(),n.Xb()),2&e&&(n.Ac("buttonTextApplied",t.filterControl.value),n.zc("autoClose",!0)("edgeToEdge",!0)("filterApplied",!0)("hideDropdownIcon",!0)("iconLabel","ui-setting-filter-v2")("disabled",!t.hasExistingThreads),n.Gb(1),n.zc("clickable",!0)("type",t.ListItemType.NON_BORDERED),n.Gb(1),n.zc("control",t.filterControl)("radioValue",t.ThreadFilterOption.ACTIVE),n.Gb(3),n.zc("control",t.filterControl)("radioValue",t.ThreadFilterOption.UNREAD),n.Gb(3),n.zc("control",t.filterControl)("radioValue",t.ThreadFilterOption.SUPPORT),n.Gb(3),n.zc("control",t.filterControl)("radioValue",t.ThreadFilterOption.ARCHIVED))},directives:[w.a,A.a,$.a,I.b,E.a,v.e],styles:[""],changeDetection:0}),e})();var j=i("/wLE"),P=i("eCtd"),F=i("w792"),X=i("yeKy"),_=i("3A0Z"),U=i("SVse"),D=i("sfSt"),N=i("jASZ"),G=i("iInd"),B=i("w13q"),Y=i("5vZq"),H=i("71eJ"),V=i("3S66"),W=i("HLWz"),Q=i("Rnop"),K=i("dJr3"),q=i("riYv"),J=i("pZRy"),Z=i("4kPF");function ee(e,t){if(1&e&&(n.Yb(0,"fl-text",4),n.ic(1,5),n.Tb(2,"fl-relative-time",6),n.fc(),n.Xb()),2&e){const e=n.rc();n.zc("fontType",e.FontType.SPAN)("color",e.fontColor)("weight",e.fontWeight),n.Gb(2),n.zc("color",e.FontColor.INHERIT)("date",null==e.otherMembers[0].onlineOfflineStatus?null:e.otherMembers[0].onlineOfflineStatus.lastUpdatedTimestamp)("includeSeconds",!1)("size",e.TextSize.INHERIT)("strict",!0)("suffix",!0)("weight",e.FontWeight.INHERIT)}}function te(e,t){if(1&e&&(n.Yb(0,"fl-text",4),n.cc(1,7),n.Xb()),2&e){const e=n.rc();n.zc("fontType",e.FontType.SPAN)("color",e.fontColor)("weight",e.fontWeight)}}function ie(e,t){if(1&e&&(n.Yb(0,"fl-text",4),n.cc(1,8),n.Xb()),2&e){const e=n.rc();n.zc("fontType",e.FontType.SPAN)("color",e.fontColor)("weight",e.fontWeight)}}function ne(e,t){if(1&e&&(n.Yb(0,"fl-text",4),n.cc(1,9),n.Xb()),2&e){const e=n.rc();n.zc("fontType",e.FontType.SPAN)("color",e.fontColor)("weight",e.fontWeight),n.Gb(1),n.gc(null==e.lastMessageUser?null:e.lastMessageUser.displayName),n.dc(1)}}function se(e,t){if(1&e&&(n.Yb(0,"fl-text",4),n.cc(1,10),n.Xb()),2&e){const e=n.rc();n.zc("fontType",e.FontType.SPAN)("color",e.fontColor)("weight",e.fontWeight)}}function ae(e,t){1&e&&(n.Wb(0),n.cc(1,15),n.Vb())}function re(e,t){if(1&e&&(n.Wb(0),n.cd(1),n.Vb()),2&e){const e=n.rc(3);n.Gb(1),n.ed(" ",null==e.lastMessageUser?null:e.lastMessageUser.displayName,": ")}}function ce(e,t){if(1&e&&n.ad(0,re,2,1,"ng-container",16),2&e){const e=n.rc(2);n.zc("ngIf",e.otherMembers.length>1)}}function oe(e,t){if(1&e&&(n.Yb(0,"fl-text",11),n.ad(1,ae,2,0,"ng-container",12),n.ad(2,ce,1,1,"ng-template",null,13,n.bd),n.Tb(4,"fl-interactive-text",14),n.Xb()),2&e){const e=n.Nc(3),t=n.rc();n.zc("color",t.fontColor)("fontType",t.FontType.SPAN)("size",t.TextSize.XSMALL)("weight",t.fontWeight),n.Gb(1),n.zc("ngIf",(null==t.lastMessageUser?null:t.lastMessageUser.id)===t.loggedInUser.id)("ngIfElse",e),n.Gb(3),n.zc("content",null==t.lastMessage?null:t.lastMessage.message)("displayLineBreaks",!1)("emoji",!0)("fontColor",t.FontColor.INHERIT)("fontSize",t.TextSize.INHERIT)("fontWeight",t.FontWeight.INHERIT)}}function le(e,t){if(1&e&&(n.Yb(0,"fl-text",4),n.cd(1),n.Xb()),2&e){const e=n.rc();n.zc("fontType",e.FontType.SPAN)("color",e.fontColor)("weight",e.fontWeight),n.Gb(1),n.ed(" ",e.contextTitle," ")}}let de=(()=>{class e{constructor(){this.FontColor=Q.a,this.FontType=v.b,this.FontWeight=v.c,this.OnlineOfflineStatusApi=q.OnlineOfflineStatusApi,this.TextSize=v.f,this.ThreadTitleType=x,this.ThreadSubtitleType=L,this.fontColor=Q.a.MID,this.fontWeight=v.c.NORMAL}ngOnChanges(e){"hasUnreadMessages"in e&&(this.fontColor=this.hasUnreadMessages?Q.a.DARK:Q.a.MID,this.fontWeight=this.hasUnreadMessages?v.c.MEDIUM:v.c.NORMAL)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["app-messaging-thread-list-item-subtitle"]],inputs:{contextTitle:"contextTitle",hasUnreadMessages:"hasUnreadMessages",lastMessage:"lastMessage",lastMessageUser:"lastMessageUser",loggedInUser:"loggedInUser",otherMembers:"otherMembers",subtitleType:"subtitleType"},features:[n.Eb],decls:8,vars:8,consts:function(){let e,t,i,n,s,a;return e=" Active " + "\ufffd#2\ufffd" + "" + "\ufffd/#2\ufffd" + " \u2022 ",t=" This project has been deleted ",i=" This contest has been deleted ",n=" " + "\ufffd0\ufffd" + " sent an attachment ",s=" Official Group Chat ",a=" You: ",[[3,"fontType","color","weight",4,"ngIf"],[3,"ngSwitch"],[3,"fontType","color","weight",4,"ngSwitchCase"],[3,"color","fontType","size","weight",4,"ngSwitchCase"],[3,"fontType","color","weight"],e,[3,"color","date","includeSeconds","size","strict","suffix","weight"],t,i,n,s,[3,"color","fontType","size","weight"],[4,"ngIf","ngIfElse"],["messageByOtherUsers",""],[3,"content","displayLineBreaks","emoji","fontColor","fontSize","fontWeight"],a,[4,"ngIf"]]},template:function(e,t){1&e&&(n.ad(0,ee,3,10,"fl-text",0),n.Wb(1,1),n.ad(2,te,2,3,"fl-text",2),n.ad(3,ie,2,3,"fl-text",2),n.ad(4,ne,2,4,"fl-text",2),n.ad(5,se,2,3,"fl-text",2),n.ad(6,oe,5,12,"fl-text",3),n.ad(7,le,2,4,"fl-text",2),n.Vb()),2&e&&(n.zc("ngIf",t.loggedInUser.id!==(null==t.lastMessageUser?null:t.lastMessageUser.id)&&1===t.otherMembers.length&&(null==t.otherMembers[0].onlineOfflineStatus?null:t.otherMembers[0].onlineOfflineStatus.status)===t.OnlineOfflineStatusApi.OFFLINE&&(null==t.otherMembers[0].onlineOfflineStatus?null:t.otherMembers[0].onlineOfflineStatus.lastUpdatedTimestamp)),n.Gb(1),n.zc("ngSwitch",t.subtitleType),n.Gb(1),n.zc("ngSwitchCase",t.ThreadSubtitleType.DELETED_PROJECT),n.Gb(1),n.zc("ngSwitchCase",t.ThreadSubtitleType.DELETED_CONTEST),n.Gb(1),n.zc("ngSwitchCase",t.ThreadSubtitleType.ATTACHMENT),n.Gb(1),n.zc("ngSwitchCase",t.ThreadSubtitleType.TEAMS),n.Gb(1),n.zc("ngSwitchCase",t.ThreadSubtitleType.LAST_MESSAGE),n.Gb(1),n.zc("ngSwitchCase",t.ThreadSubtitleType.CONTEXT_TITLE))},directives:[U.q,U.s,U.t,v.e,J.b,Z.a],encapsulation:2,changeDetection:0}),e})();var he=i("al+g"),ge=i("i5Qm");function fe(e,t){if(1&e&&n.Tb(0,"fl-username",14),2&e){const e=n.rc(2);n.zc("displayName",e.threadOtherMembers[0].displayName)("truncateText",!0)("username",e.threadOtherMembers[0].username)("flMarginBottom",e.Margin.XXXSMALL)}}function be(e,t){if(1&e&&(n.Yb(0,"fl-text",15),n.cd(1),n.Xb()),2&e){const e=n.rc(2);n.zc("size",e.TextSize.XSMALL)("weight",e.FontWeight.MEDIUM)("flMarginBottom",e.Margin.XXXSMALL),n.Gb(1),n.ed(" ",e.threadTitle," ")}}function ue(e,t){if(1&e&&(n.Yb(0,"fl-text",16),n.cd(1),n.sc(2,"flAsync"),n.sc(3,"dynamicTime"),n.Xb()),2&e){const e=t.ngIf,i=n.rc(2);n.zc("size",i.TextSize.XXXSMALL),n.Gb(1),n.ed(" ",n.tc(2,2,n.tc(3,4,e))," ")}}function pe(e,t){if(1&e&&n.Tb(0,"app-messaging-thread-list-item-subtitle",17),2&e){const e=n.rc(2);n.zc("contextTitle",e.threadTitle)("hasUnreadMessages",e.threadDetails.thread.messageUnreadCount>0)("lastMessage",e.threadDetails.thread.message)("lastMessageUser",e.lastMessageUser)("loggedInUser",e.loggedInUser)("otherMembers",e.threadOtherMembers)("subtitleType",e.threadSubtitleType)}}function me(e,t){if(1&e&&(n.Yb(0,"fl-bit",10),n.Yb(1,"fl-text",18),n.cd(2),n.Xb(),n.Xb()),2&e){const e=n.rc(2);n.Gb(1),n.zc("size",e.TextSize.XXXSMALL)("fontType",e.FontType.SPAN)("weight",e.FontWeight.BOLD)("color",e.FontColor.LIGHT),n.Gb(1),n.ed(" ",e.threadDetails.thread.messageUnreadCount<100?e.threadDetails.thread.messageUnreadCount:"99+"," ")}}function Te(e,t){if(1&e&&(n.Yb(0,"fl-bit",2),n.Yb(1,"fl-bit",3),n.Tb(2,"fl-user-avatar",4),n.Xb(),n.Yb(3,"fl-bit",5),n.Yb(4,"fl-bit",6),n.Yb(5,"fl-bit",7),n.ad(6,fe,1,4,"fl-username",8),n.ad(7,be,2,4,"ng-template",null,9,n.bd),n.Xb(),n.Yb(9,"fl-bit",10),n.ad(10,ue,4,6,"fl-text",11),n.Xb(),n.Xb(),n.Yb(11,"fl-bit",6),n.Yb(12,"fl-bit",7),n.ad(13,pe,1,7,"app-messaging-thread-list-item-subtitle",12),n.Xb(),n.ad(14,me,3,5,"fl-bit",13),n.Xb(),n.Xb(),n.Xb()),2&e){const e=n.Nc(8),t=n.rc();n.Gb(2),n.zc("users",t.threadOtherMembers)("flMarginRight",t.Margin.XXSMALL),n.Gb(4),n.zc("ngIf",t.threadTitleType===t.ThreadTitleType.USERNAME&&t.threadOtherMembers.length>0)("ngIfElse",e),n.Gb(4),n.zc("ngIf",null==t.threadDetails.thread.message?null:t.threadDetails.thread.message.timeCreated),n.Gb(3),n.zc("ngIf",t.threadSubtitleType),n.Gb(1),n.zc("ngIf",t.threadDetails.thread.messageUnreadCount>0)}}let Se=(()=>{class e{constructor(){this.FontColor=Q.a,this.FontStyle=v.a,this.FontType=v.b,this.FontWeight=v.c,this.Margin=s.a,this.TextSize=v.f,this.ThreadTitleType=x}ngOnChanges(){if(this.threadDetails){const{thread:e,members:t}=this.threadDetails;this.threadSubtitleType=this.getSubtitleType(),this.threadTitleType=e.threadType===l.ThreadTypeApi.PRIVATE_CHAT||e.threadType===l.ThreadTypeApi.PRIMARY||e.threadType===l.ThreadTypeApi.ADMIN_PREFERRED_CHAT?x.USERNAME:x.CONTEXT_TITLE,this.threadTitle=this.threadTitleType===x.CONTEXT_TITLE||this.threadSubtitleType===L.CONTEXT_TITLE?this.getTitle():void 0,this.threadOtherMembers=e.otherMembers.map(e=>t.find(t=>t.id===e)||void 0).filter(c.g)}}getTitle(){return this.threadDetails.contextObject?this.threadDetails.contextObject.title:this.threadDetails.members.map(e=>e.displayName).join(", ")}getSubtitleType(){const{thread:e,members:t,contextObject:i}=this.threadDetails;if(!i){if(e.context.type===l.ContextTypeApi.PROJECT)return L.DELETED_PROJECT;if(e.context.type===l.ContextTypeApi.CONTEST)return L.DELETED_CONTEST}if(e.message){if(this.lastMessageUser=t.find(t=>e.message&&t.id===e.message.fromUser),e.message.message)return L.LAST_MESSAGE;if(e.message.attachments)return L.ATTACHMENT}return e.message||e.threadType===l.ThreadTypeApi.ADMIN_PREFERRED_CHAT||e.threadType===l.ThreadTypeApi.GROUP||e.context.type!==l.ContextTypeApi.PROJECT&&e.context.type!==l.ContextTypeApi.CONTEST?e.threadType===l.ThreadTypeApi.TEAM_OFFICIAL?L.TEAMS:void 0:L.CONTEXT_TITLE}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["app-messaging-thread-list-item"]],inputs:{loggedInUser:"loggedInUser",threadDetails:"threadDetails"},features:[n.Eb],decls:2,vars:2,consts:[["flTrackingLabel","MessagingThreadListItem",3,"href"],["class","ThreadListItem",4,"ngIf"],[1,"ThreadListItem"],[1,"ThreadListItem-avatar"],[3,"users","flMarginRight"],[1,"ThreadDetailsRow"],[1,"ThreadDetailsRow-container"],[1,"ThreadDetailsRow-textContainer"],["class","ThreadDetailsRow-username",3,"displayName","truncateText","username","flMarginBottom",4,"ngIf","ngIfElse"],["displayThreadTitle",""],[1,"ThreadDetailsRow-iconContainer"],[3,"size",4,"ngIf"],[3,"contextTitle","hasUnreadMessages","lastMessage","lastMessageUser","loggedInUser","otherMembers","subtitleType",4,"ngIf"],["class","ThreadDetailsRow-iconContainer",4,"ngIf"],[1,"ThreadDetailsRow-username",3,"displayName","truncateText","username","flMarginBottom"],[1,"ThreadDetailsRow-title",3,"size","weight","flMarginBottom"],[3,"size"],[3,"contextTitle","hasUnreadMessages","lastMessage","lastMessageUser","loggedInUser","otherMembers","subtitleType"],[1,"ThreadDetailsRow-unreadCount",3,"size","fontType","weight","color"]],template:function(e,t){1&e&&(n.Yb(0,"a",0),n.ad(1,Te,15,7,"fl-bit",1),n.Xb()),2&e&&(n.zc("href","/messages/thread/"+t.threadDetails.thread.id,n.Tc),n.Gb(1),n.zc("ngIf",t.threadDetails))},directives:[E.a,U.q,B.a,H.b,s.b,K.b,v.e,de],pipes:[he.a,ge.a],styles:["[_nghost-%COMP%]{display:block}.ThreadListItem[_ngcontent-%COMP%]{cursor:pointer;display:flex}.ThreadListItem-avatar[_ngcontent-%COMP%]{position:relative}.ThreadDetailsRow[_ngcontent-%COMP%]{display:flex;flex:1 1 0%;flex-direction:column;min-width:0}.ThreadDetailsRow-container[_ngcontent-%COMP%]{display:flex}.ThreadDetailsRow-textContainer[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1 1 0%;max-height:32px;min-width:0;padding-right:4px}.ThreadDetailsRow-iconContainer[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column}.ThreadDetailsRow-unreadCount[_ngcontent-%COMP%]{align-items:center;background:#eb3730;border-radius:50%;display:flex;height:23px;justify-content:center;width:23px}.ThreadDetailsRow-username[_ngcontent-%COMP%]{flex-wrap:nowrap;width:50%}.ThreadDetailsRow-title[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"],changeDetection:0}),e})();var Me=i("565b"),Ce=i("lDT0"),ye=i("UlxN"),Ie=i("Krui"),xe=i("tbJ/");function Le(e,t){if(1&e&&(n.Yb(0,"fl-heading",7),n.cc(1,8),n.Xb()),2&e){const e=n.rc(2);n.zc("flMarginBottom",e.Margin.XXSMALL)("headingType",e.HeadingType.H1)("size",e.TextSize.MID)("weight",e.HeadingWeight.BOLD)}}const Oe=function(){return{newInboxWidget:!0,new_chatbox:!0}};function ze(e,t){if(1&e&&(n.Wb(0),n.Yb(1,"fl-text",9),n.ic(2,10),n.sc(3,"flAsync"),n.Tb(4,"fl-link",11),n.Tb(5,"fl-link",12),n.Tb(6,"fl-link",13),n.fc(),n.Xb(),n.Vb()),2&e){const e=n.rc(2);n.Gb(1),n.zc("size",n.tc(3,11,e.isNav$)?e.TextSize.XXSMALL:e.TextSize.SMALL)("textAlign",e.TextAlign.CENTER),n.Gb(3),n.zc("link","/post-project")("queryParams",n.Dc(13,Oe))("size",e.TextSize.INHERIT),n.Gb(1),n.zc("link","/search/users")("queryParams",n.Dc(14,Oe))("size",e.TextSize.INHERIT),n.Gb(1),n.zc("link","/search/projects")("queryParams",n.Dc(15,Oe))("size",e.TextSize.INHERIT)}}function we(e,t){if(1&e&&(n.Yb(0,"fl-text",9),n.ic(1,14),n.sc(2,"flAsync"),n.Tb(3,"fl-link",11),n.Tb(4,"fl-link",12),n.fc(),n.Xb()),2&e){const e=n.rc(2);n.zc("size",n.tc(2,8,e.isNav$)?e.TextSize.XXSMALL:e.TextSize.SMALL)("textAlign",e.TextAlign.CENTER),n.Gb(3),n.zc("link","/post-project")("queryParams",n.Dc(10,Oe))("size",e.TextSize.INHERIT),n.Gb(1),n.zc("link","/search/users")("queryParams",n.Dc(11,Oe))("size",e.TextSize.INHERIT)}}function Ae(e,t){if(1&e&&(n.Wb(0),n.Tb(1,"fl-picture",3),n.ad(2,Le,2,4,"fl-heading",4),n.sc(3,"flAsync"),n.ad(4,ze,7,16,"ng-container",5),n.ad(5,we,5,12,"ng-template",null,6,n.bd),n.Vb()),2&e){const e=n.Nc(6),t=n.rc();n.Gb(1),n.zc("flMarginBottom",t.Margin.XXSMALL)("src","messaging/live-chat.svg"),n.Gb(1),n.zc("ngIf",!n.tc(3,5,t.isNav$)),n.Gb(2),n.zc("flFeature",t.Feature.SEARCH_POOLS)("flFeatureElse",e)}}function $e(e,t){if(1&e&&(n.Tb(0,"fl-picture",15),n.Yb(1,"fl-text",9),n.cc(2,16),n.Xb()),2&e){const e=n.rc();n.zc("flMarginBottom",e.Margin.XXSMALL)("src","messaging/thread-filters-no-results.svg"),n.Gb(1),n.zc("size",e.TextSize.SMALL)("textAlign",e.TextAlign.CENTER)}}const Ee=function(e){return{"MessagesThreadListEmptyState--nav":e}};let ve=(()=>{class e{constructor(){this.Feature=ye.b,this.HeadingType=D.c,this.HeadingWeight=D.d,this.Margin=s.a,this.TextAlign=v.d,this.TextSize=v.f}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["app-messaging-thread-list-empty-state"]],inputs:{hasExistingThreads$:"hasExistingThreads$",isSearching$:"isSearching$",isNav$:"isNav$"},decls:7,vars:11,consts:function(){let e,t,i,s,a,r;return e="Messaging chat image",t=" Welcome to your messages ",i=" Start a chat through " + "\ufffd#4\ufffd" + " posting a project " + "[\ufffd/#4\ufffd|\ufffd/#5\ufffd|\ufffd/#6\ufffd]" + " , " + "\ufffd#5\ufffd" + " hiring a freelancer " + "[\ufffd/#4\ufffd|\ufffd/#5\ufffd|\ufffd/#6\ufffd]" + " , or " + "\ufffd#6\ufffd" + " browsing projects " + "[\ufffd/#4\ufffd|\ufffd/#5\ufffd|\ufffd/#6\ufffd]" + " . ",i=n.hc(i),s=" Start a chat through " + "\ufffd#3\ufffd" + " posting a project " + "[\ufffd/#3\ufffd|\ufffd/#4\ufffd]" + " or " + "\ufffd#4\ufffd" + " hiring a freelancer " + "[\ufffd/#3\ufffd|\ufffd/#4\ufffd]" + " . ",s=n.hc(s),a="Sad emoticon image",r=" No messages match your filter ",[["flTrackingSection","MessagingThreadListEmptyState",1,"MessagesThreadListEmptyState",3,"ngClass"],[4,"ngIf","ngIfElse"],["filteredEmptyState",""],["alt",e,3,"flMarginBottom","src"],[3,"flMarginBottom","headingType","size","weight",4,"ngIf"],[4,"flFeature","flFeatureElse"],["searchPoolsDisabled",""],[3,"flMarginBottom","headingType","size","weight"],t,[3,"size","textAlign"],i,["flTrackingLabel","PostProject",3,"link","queryParams","size"],["flTrackingLabel","SearchUsers",3,"link","queryParams","size"],["flTrackingLabel","BrowseProjects",3,"link","queryParams","size"],s,["alt",a,3,"flMarginBottom","src"],r]},template:function(e,t){if(1&e&&(n.Yb(0,"fl-bit",0),n.sc(1,"flAsync"),n.ad(2,Ae,7,7,"ng-container",1),n.sc(3,"flAsync"),n.sc(4,"flAsync"),n.ad(5,$e,3,4,"ng-template",null,2,n.bd),n.Xb()),2&e){const e=n.Nc(6);n.zc("ngClass",n.Ec(9,Ee,n.tc(1,3,t.isNav$))),n.Gb(2),n.zc("ngIf",!n.tc(3,5,t.hasExistingThreads$)&&!n.tc(4,7,t.isSearching$))("ngIfElse",e)}},directives:[B.a,A.a,U.o,U.q,Ie.a,s.b,xe.a,D.b,v.e,Ce.b,E.a],pipes:[he.a],styles:["[_nghost-%COMP%]{display:block;height:100%}.MessagesThreadListEmptyState[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center;overflow:hidden;padding:12px}.MessagesThreadListEmptyState--nav[_ngcontent-%COMP%]{height:auto;padding-bottom:24px;padding-top:24px}"],changeDetection:0}),e})();function ke(e,t){1&e&&n.Ub(0)}const Re=function(e,t,i,n,s){return{iconMarginBottom:e,iconMarginRight:t,iconSize:i,textSize:n,error:s}};function je(e,t){if(1&e&&(n.Yb(0,"fl-bit",8),n.ad(1,ke,1,0,"ng-container",9),n.Xb()),2&e){const e=t.ngIf;n.rc(2);const i=n.Nc(7),s=n.rc();n.zc("flMarginBottom",s.Margin.XXSMALL),n.Gb(1),n.zc("ngTemplateOutlet",i)("ngTemplateOutletContext",n.Ic(3,Re,s.Margin.XXSMALL,s.Margin.NONE,s.IconSize.XXLARGE,s.TextSize.SMALL,e))}}const Pe=function(){return[void 0]};function Fe(e,t){if(1&e&&(n.Yb(0,"fl-list-item",12),n.Yb(1,"fl-bit",13),n.Tb(2,"fl-user-avatar",14),n.Tb(3,"fl-loading-text",15),n.Xb(),n.Xb()),2&e){const e=n.rc(4);n.zc("flMarginBottom",e.Margin.XSMALL),n.Gb(2),n.zc("flMarginRight",e.Margin.XSMALL)("users",n.Dc(5,Pe)),n.Gb(1),n.zc("rows",2)("padded",!1)}}function Xe(e,t){if(1&e&&(n.Yb(0,"fl-list",10),n.ad(1,Fe,4,6,"fl-list-item",11),n.Xb()),2&e){const e=n.rc(3);n.zc("type",e.ListItemType.NON_BORDERED),n.Gb(1),n.zc("flRepeat",5)}}const _e=function(e){return{LoadingMessagingThreadList:e}};function Ue(e,t){if(1&e&&(n.Yb(0,"fl-bit",5),n.sc(1,"flAsync"),n.ad(2,je,2,9,"fl-bit",6),n.ad(3,Xe,2,2,"ng-template",null,7,n.bd),n.Xb()),2&e){const e=n.Nc(4),t=n.rc().ngIf,i=n.rc();n.zc("ngClass",n.Ec(5,_e,!n.tc(1,3,i.isNav$))),n.Gb(2),n.zc("ngIf",t.error)("ngIfElse",e)}}function De(e,t){if(1&e){const e=n.Zb();n.Yb(0,"fl-list-item",24),n.nc("click",function(i){n.Qc(e);const s=t.$implicit,a=n.rc().ngIf;return n.rc(4).onListItemClick(i,s,a.isInboxMode)}),n.Tb(1,"app-messaging-thread-list-item",25),n.sc(2,"flAsync"),n.Xb()}if(2&e){const e=t.$implicit,i=n.rc(5);n.zc("clickable",!0),n.Gb(1),n.zc("loggedInUser",n.tc(2,3,i.loggedInUser$))("threadDetails",e)}}function Ne(e,t){if(1&e&&(n.Yb(0,"fl-list",22),n.ad(1,De,3,5,"fl-list-item",23),n.sc(2,"flAsync"),n.Xb()),2&e){const e=n.rc(4);n.zc("clickable",!0)("type",e.ListItemType.NON_BORDERED)("flMarginBottom",e.Margin.SMALL),n.Gb(1),n.zc("ngForOf",n.tc(2,5,e.threadsDetails$))("ngForTrackBy",e.trackByThreadId)}}function Ge(e,t){1&e&&n.Ub(0)}function Be(e,t){if(1&e&&(n.Yb(0,"fl-bit",26),n.ad(1,Ge,1,0,"ng-container",9),n.Xb()),2&e){const e=t.ngIf;n.rc(3);const i=n.Nc(7),s=n.rc();n.zc("flMarginBottom",s.Margin.SMALL),n.Gb(1),n.zc("ngTemplateOutlet",i)("ngTemplateOutletContext",n.Ic(3,Re,s.Margin.NONE,s.Margin.XXSMALL,s.IconSize.MID,s.TextSize.XSMALL,e))}}function Ye(e,t){if(1&e&&n.Tb(0,"fl-spinner",27),2&e){const e=n.rc(4);n.zc("size",e.SpinnerSize.SMALL)("flMarginBottom",e.Margin.SMALL)}}function He(e,t){if(1&e){const e=n.Zb();n.Yb(0,"fl-link",28),n.nc("click",function(){return n.Qc(e),n.rc(4).loadMoreThreads.emit()}),n.cc(1,29),n.Xb()}if(2&e){const e=n.rc(4);n.zc("flMarginBottom",e.Margin.SMALL)}}const Ve=function(e){return{MessagingThreadList:e}},We=function(e){return{isInboxMode:e}};function Qe(e,t){if(1&e&&(n.Yb(0,"fl-scrollable-content",5),n.sc(1,"flAsync"),n.ad(2,Ne,3,7,"fl-list",17),n.sc(3,"flAsync"),n.Yb(4,"fl-bit",18),n.ad(5,Be,2,9,"fl-bit",19),n.ad(6,Ye,1,2,"fl-spinner",20),n.ad(7,He,2,1,"fl-link",21),n.sc(8,"flAsync"),n.Xb(),n.Xb()),2&e){const e=n.rc(2).ngIf,t=n.rc();n.zc("ngClass",n.Ec(11,Ve,!n.tc(1,5,t.isNav$))),n.Gb(2),n.zc("ngIf",n.Ec(13,We,n.tc(3,7,t.isInboxMode$))),n.Gb(3),n.zc("ngIf",e.error),n.Gb(1),n.zc("ngIf",!e.ready&&!e.error),n.Gb(1),n.zc("ngIf",e.ready&&!e.error&&n.tc(8,9,t.hasMoreThreads$))}}function Ke(e,t){if(1&e&&n.Tb(0,"app-messaging-thread-list-empty-state",30),2&e){const e=n.rc(3);n.zc("hasExistingThreads$",e.hasExistingThreads$)("isSearching$",e.isSearching$)("isNav$",e.isNav$)}}function qe(e,t){if(1&e&&(n.ad(0,Qe,9,15,"fl-scrollable-content",2),n.sc(1,"flAsync"),n.ad(2,Ke,1,3,"ng-template",null,16,n.bd)),2&e){const e=n.Nc(3),t=n.rc(2);let i=null;n.zc("ngIf",(null==(i=n.tc(1,2,t.threadsDetails$))?null:i.length)>0)("ngIfElse",e)}}function Je(e,t){if(1&e&&(n.Tb(0,"fl-icon",31),n.Yb(1,"fl-bit"),n.Yb(2,"fl-text",32),n.cc(3,33),n.Xb(),n.Yb(4,"fl-text",32),n.ic(5,34),n.Yb(6,"fl-link",35),n.nc("click",function(){return t.error.retry()}),n.Xb(),n.fc(),n.Xb(),n.Xb()),2&e){const e=t.iconMarginBottom,i=t.iconMarginRight,s=t.iconSize,a=t.textSize,r=n.rc(2);n.zc("name","ui-warning-alt-v2")("color",r.IconColor.CONTEST)("size",s)("flMarginBottom",e)("flMarginRight",i),n.Gb(2),n.zc("size",a)("textAlign",r.TextAlign.CENTER),n.Gb(2),n.zc("size",a)("textAlign",r.TextAlign.CENTER),n.Gb(2),n.zc("size",r.TextSize.INHERIT)}}function Ze(e,t){if(1&e&&(n.Wb(0,1),n.ad(1,Ue,5,7,"fl-bit",2),n.sc(2,"flAsync"),n.sc(3,"flAsync"),n.ad(4,qe,4,4,"ng-template",null,3,n.bd),n.ad(6,Je,7,10,"ng-template",null,4,n.bd),n.Vb()),2&e){const e=t.ngIf,i=n.Nc(5),s=n.rc();n.Gb(1),n.zc("ngIf",!(n.tc(2,2,s.threadsDetails$)&&e.ready||n.tc(3,4,s.threadsLoadingStateType$)!==s.ThreadsLoadingStateType.FULL_LIST))("ngIfElse",i)}}let et=(()=>{class e{constructor(e){this.router=e,this.FontType=v.b,this.FontWeight=v.c,this.HeadingType=D.c,this.IconColor=y.c,this.IconSize=y.e,this.ListItemType=I.f,this.Margin=s.a,this.SpinnerSize=N.d,this.TextAlign=v.d,this.TextSize=v.f,this.ThreadsLoadingStateType=z,this.isInboxMode$=h.a(!1),this.isNav$=h.a(!1),this.loadMoreThreads=new n.n,this.startChat=new n.n}trackByThreadId(e,t){return t.thread.id}onListItemClick(e,t,i){e.preventDefault(),i?this.router.navigate([`/messages/thread/${t.thread.id}`],{queryParamsHandling:"merge"}):this.startChat.emit({userIds:t.thread.members,threadType:t.thread.threadType,origin:"",context:t.thread.context,threadId:t.thread.id,focus:!0})}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(G.e))},e.\u0275cmp=n.Mb({type:e,selectors:[["app-messaging-thread-list"]],inputs:{hasExistingThreads$:"hasExistingThreads$",hasMoreThreads$:"hasMoreThreads$",isInboxMode$:"isInboxMode$",isNav$:"isNav$",isSearching$:"isSearching$",loggedInUser$:"loggedInUser$",threadsDetails$:"threadsDetails$",threadsFetchStatus$:"threadsFetchStatus$",threadsLoadingStateType$:"threadsLoadingStateType$"},outputs:{loadMoreThreads:"loadMoreThreads",startChat:"startChat"},decls:2,vars:3,consts:function(){let e,t,i;return e=" Load more ",t=" Oops, something went wrong. ",i=" Please " + "\ufffd#6\ufffd" + "refresh" + "\ufffd/#6\ufffd" + " and try again. ",[["flTrackingSection","MessagingThreadList",4,"ngIf"],["flTrackingSection","MessagingThreadList"],[3,"ngClass",4,"ngIf","ngIfElse"],["loadedState",""],["errorState",""],[3,"ngClass"],["class","LoadingMessagingThreadList-errorState",3,"flMarginBottom",4,"ngIf","ngIfElse"],["loadingState",""],[1,"LoadingMessagingThreadList-errorState",3,"flMarginBottom"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"type"],[3,"flMarginBottom",4,"flRepeat"],[3,"flMarginBottom"],[1,"LoadingMessagingThreadList-item"],[3,"flMarginRight","users"],[3,"rows","padded"],["emptyState",""],[3,"clickable","type","flMarginBottom",4,"ngIf"],[1,"MessagingThreadList-loadMore"],["class","MessagingThreadList-loadMore-error",3,"flMarginBottom",4,"ngIf"],["flTrackingLabel","LoadingMoreThreadsSpinner",3,"size","flMarginBottom",4,"ngIf"],["flTrackingLabel","LoadMoreThreadsLink",3,"flMarginBottom","click",4,"ngIf"],[3,"clickable","type","flMarginBottom"],["flTrackingLabel","MessagingThreadListItem",3,"clickable","click",4,"ngFor","ngForOf","ngForTrackBy"],["flTrackingLabel","MessagingThreadListItem",3,"clickable","click"],[3,"loggedInUser","threadDetails"],[1,"MessagingThreadList-loadMore-error",3,"flMarginBottom"],["flTrackingLabel","LoadingMoreThreadsSpinner",3,"size","flMarginBottom"],["flTrackingLabel","LoadMoreThreadsLink",3,"flMarginBottom","click"],e,[3,"hasExistingThreads$","isSearching$","isNav$"],[3,"name","color","size","flMarginBottom","flMarginRight"],[3,"size","textAlign"],t,i,["flTrackingLabel","RefreshInboxWidget",3,"size","click"]]},template:function(e,t){1&e&&(n.ad(0,Ze,8,6,"ng-container",0),n.sc(1,"flAsync")),2&e&&n.zc("ngIf",n.tc(1,1,t.threadsFetchStatus$))},directives:[U.q,A.a,B.a,U.o,s.b,U.v,$.a,Y.a,I.b,H.b,V.a,W.a,U.p,E.a,Se,Me.a,N.c,Ce.b,ve,y.d,v.e],pipes:[he.a],styles:[".LoadingMessagingThreadList[_ngcontent-%COMP%], .MessagingThreadList[_ngcontent-%COMP%]{bottom:0;flex:1 0 100%;left:0;overflow-y:auto;position:absolute;right:0;top:0}.LoadingMessagingThreadList-loadMore[_ngcontent-%COMP%], .MessagingThreadList-loadMore[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center}.LoadingMessagingThreadList-loadMore-error[_ngcontent-%COMP%], .MessagingThreadList-loadMore-error[_ngcontent-%COMP%]{align-items:center;display:flex}.LoadingMessagingThreadList-errorState[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center;padding:12px}.LoadingMessagingThreadList-item[_ngcontent-%COMP%]{align-items:center;display:flex}"],changeDetection:0}),e})();var tt=i("SMHo"),it=i("LLeR"),nt=i("wZbG");function st(e,t){if(1&e&&(n.Yb(0,"fl-text",2),n.cc(1,3),n.Xb()),2&e){const e=n.rc();n.zc("flMarginBottom",e.Margin.XXSMALL)("size",e.TextSize.XXSMALL)}}const at=function(e){return[e]};function rt(e,t){if(1&e){const e=n.Zb();n.Yb(0,"fl-list-item",11),n.nc("click",function(){n.Qc(e);const i=t.$implicit;return n.rc(4).handleSearchUserSelected(i)}),n.Yb(1,"fl-bit",12),n.Tb(2,"fl-user-avatar",13),n.Tb(3,"fl-username",14),n.Xb(),n.Xb()}if(2&e){const e=t.$implicit,i=n.rc(4);n.Gb(2),n.zc("flMarginRight",i.Margin.XXSMALL)("size",i.AvatarSize.XSMALL)("users",n.Ec(5,at,e)),n.Gb(1),n.zc("displayName",e.displayName)("username",e.username)}}function ct(e,t){if(1&e&&(n.Yb(0,"fl-list",9),n.ad(1,rt,4,7,"fl-list-item",10),n.Xb()),2&e){const e=n.rc(3);n.zc("flMarginBottom",e.Margin.XXSMALL)("clickable",!0)("padding",e.ListItemPadding.XXXSMALL)("type",e.ListItemType.NON_BORDERED),n.Gb(1),n.zc("ngForOf",e.users)}}function ot(e,t){if(1&e&&(n.Yb(0,"fl-text",15),n.cc(1,16),n.Xb()),2&e){const e=n.rc(3);n.zc("flMarginBottom",e.Margin.XXSMALL)}}function lt(e,t){if(1&e&&(n.Wb(0),n.ad(1,ct,2,5,"fl-list",7),n.ad(2,ot,2,1,"ng-template",null,8,n.bd),n.Vb()),2&e){const e=n.Nc(3),t=n.rc(2);n.Gb(1),n.zc("ngIf",t.users.length>0)("ngIfElse",e)}}const dt=function(){return[void 0]};function ht(e,t){if(1&e&&(n.Wb(0),n.Yb(1,"fl-bit",17),n.Tb(2,"fl-user-avatar",13),n.Tb(3,"fl-loading-text",18),n.Xb(),n.Vb()),2&e){const e=n.rc(2);n.Gb(1),n.zc("flMarginBottom",e.Margin.XXSMALL),n.Gb(1),n.zc("flMarginRight",e.Margin.XXSMALL)("size",e.AvatarSize.XSMALL)("users",n.Dc(6,dt)),n.Gb(1),n.zc("rows",1)("padded",!1)}}function gt(e,t){if(1&e&&(n.Wb(0),n.Yb(1,"fl-bit",17),n.Tb(2,"fl-icon",19),n.Yb(3,"fl-text",20),n.cc(4,21),n.Xb(),n.Xb(),n.Vb()),2&e){const e=n.rc(2);n.Gb(1),n.zc("flMarginBottom",e.Margin.XXSMALL),n.Gb(1),n.zc("flMarginRight",e.Margin.XXSMALL)("name","ui-warning-alt-v2")("color",e.IconColor.ERROR),n.Gb(1),n.zc("color",e.FontColor.ERROR)}}function ft(e,t){if(1&e&&(n.Yb(0,"fl-text",4),n.cc(1,5),n.Xb(),n.ad(2,lt,4,2,"ng-container",6),n.ad(3,ht,4,7,"ng-container",6),n.ad(4,gt,5,5,"ng-container",6)),2&e){const e=n.rc();n.zc("flMarginBottom",e.Margin.XXSMALL)("weight",e.FontWeight.BOLD),n.Gb(2),n.zc("ngIf",e.status.ready),n.Gb(1),n.zc("ngIf",!e.status.ready&&!e.status.error),n.Gb(1),n.zc("ngIf",e.status.error)}}let bt=(()=>{class e{constructor(){this.AvatarSize=H.a,this.FontColor=Q.a,this.FontWeight=v.c,this.IconColor=y.c,this.ListItemPadding=I.e,this.ListItemType=I.f,this.Margin=s.a,this.TextSize=v.f,this.startChat=new n.n}handleSearchUserSelected(e){this.startChat.emit({userIds:[e.id],threadType:l.ThreadTypeApi.ADMIN_PREFERRED_CHAT,origin:"ng-contact-list-user-search",context:{type:l.ContextTypeApi.SUPPORT_CHAT,id:e.id}})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["app-messaging-thread-recruiter-search"]],inputs:{searching:"searching",status:"status",users:"users"},outputs:{startChat:"startChat"},decls:4,vars:2,consts:function(){let e,t,i,n;return e=" Press Enter on the search bar to search for users by username. ",t=" Direct Chat ",i=" No user found. ",n=" Something went wrong while searching for this user. Please try again. ",[[3,"flMarginBottom","size",4,"ngIf","ngIfElse"],["result",""],[3,"flMarginBottom","size"],e,[3,"flMarginBottom","weight"],t,[4,"ngIf"],["flTrackingSection","MessagingRecruiterSearchResult",3,"flMarginBottom","clickable","padding","type",4,"ngIf","ngIfElse"],["emptyResult",""],["flTrackingSection","MessagingRecruiterSearchResult",3,"flMarginBottom","clickable","padding","type"],["flTrackingLabel","MessagingRecruiterSearchItem",3,"click",4,"ngFor","ngForOf"],["flTrackingLabel","MessagingRecruiterSearchItem",3,"click"],[1,"RecruiterUserSearchResult-item"],[3,"flMarginRight","size","users"],[3,"displayName","username"],[3,"flMarginBottom"],i,[1,"RecruiterUserSearchResult-item",3,"flMarginBottom"],[1,"RecruiterUserSearchResult-loading",3,"rows","padded"],[3,"flMarginRight","name","color"],[3,"color"],n]},template:function(e,t){if(1&e&&(n.ad(0,st,2,2,"fl-text",0),n.ad(1,ft,5,5,"ng-template",null,1,n.bd),n.Tb(3,"fl-hr")),2&e){const e=n.Nc(2);n.zc("ngIf",!t.searching)("ngIfElse",e)}},directives:[U.q,nt.a,v.e,s.b,$.a,A.a,U.p,I.b,E.a,B.a,H.b,K.b,V.a,y.d],styles:["[_nghost-%COMP%]{background-color:#fff;display:block;padding:0 12px}.RecruiterUserSearchResult-item[_ngcontent-%COMP%]{align-items:center;display:flex}.RecruiterUserSearchResult-loading[_ngcontent-%COMP%]{height:20px}"],changeDetection:0}),e})();var ut=i("fYbj"),pt=i("wCWs");const mt=["*"];let Tt=(()=>{class e{constructor(){this.FontColor=Q.a,this.Margin=s.a,this.TextSize=v.f,this.TextTransform=v.g,this.handleSeeAll=new n.n}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["app-messaging-search-results-header"]],outputs:{handleSeeAll:"handleSeeAll"},ngContentSelectors:mt,decls:6,vars:6,consts:function(){let e;return e=" SEE ALL ",[[1,"MessagingSearchResultHeader",3,"flMarginBottom"],[3,"color","size","textTransform"],["flTrackingLabel","MessageSearchSeeAll",3,"size","click"],e,[3,"flMarginBottom"]]},template:function(e,t){1&e&&(n.yc(),n.Yb(0,"fl-bit",0),n.Yb(1,"fl-text",1),n.xc(2),n.Xb(),n.Yb(3,"fl-link",2),n.nc("click",function(){return t.handleSeeAll.emit()}),n.cc(4,3),n.Xb(),n.Xb(),n.Tb(5,"fl-hr",4)),2&e&&(n.zc("flMarginBottom",t.Margin.XXSMALL),n.Gb(1),n.zc("color",t.FontColor.MID)("size",t.TextSize.XXXSMALL)("textTransform",t.TextTransform.UPPERCASE),n.Gb(2),n.zc("size",t.TextSize.XXXSMALL),n.Gb(2),n.zc("flMarginBottom",t.Margin.MID))},directives:[B.a,s.b,v.e,Ce.b,E.a,nt.a],styles:["[_nghost-%COMP%]{display:block}.MessagingSearchResultHeader[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}"],changeDetection:0}),e})();var St=i("p8b5");let Mt=(()=>{class e{constructor(){this.IconColor=y.c,this.IconSize=y.e,this.Margin=s.a,this.TextSize=v.f}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["app-messaging-jobs-search-item"]],decls:4,vars:6,consts:function(){let e;return e=" Sample project title ",[[1,"MessagingJobsSearchItem-image",3,"flMarginRight"],[3,"name","color","size"],[3,"maxLines","size"],e]},template:function(e,t){1&e&&(n.Yb(0,"fl-bit",0),n.Tb(1,"fl-icon",1),n.Xb(),n.Yb(2,"fl-text",2),n.cc(3,3),n.Xb()),2&e&&(n.zc("flMarginRight",t.Margin.XXSMALL),n.Gb(1),n.zc("name","ui-suitcase-outline")("color",t.IconColor.LIGHT)("size",t.IconSize.LARGE),n.Gb(1),n.zc("maxLines",1)("size",t.TextSize.SMALL))},directives:[B.a,s.b,y.d,v.e],styles:[".MessagingJobsSearchItem-image[_ngcontent-%COMP%], [_nghost-%COMP%]{align-items:center;display:flex}.MessagingJobsSearchItem-image[_ngcontent-%COMP%]{background-color:#007fed;height:46px;justify-content:center;width:46px}"],changeDetection:0}),e})();function Ct(e,t){if(1&e&&n.Tb(0,"app-messaging-contact-item",8),2&e){const e=n.rc(2);n.zc("flMarginBottom",e.Margin.MID)("showCtas",!1)("showSubtitle",!1)("user",e.user)}}function yt(e,t){if(1&e&&n.Tb(0,"app-messaging-jobs-search-item",9),2&e){const e=n.rc(2);n.zc("flMarginBottom",e.Margin.MID)}}function It(e,t){if(1&e&&n.Tb(0,"app-messaging-thread-list-item",12),2&e){const e=t.$implicit,i=n.rc(3);n.zc("flMarginBottom",i.Margin.MID)("threadDetails",e)}}function xt(e,t){if(1&e){const e=n.Zb();n.Wb(0),n.Yb(1,"app-messaging-search-results-header",2),n.nc("handleSeeAll",function(){n.Qc(e);const t=n.rc(2);return t.switchPage(t.MessagingSearchResultsPage.MESSAGES)}),n.cc(2,10),n.Xb(),n.ad(3,It,1,2,"app-messaging-thread-list-item",11),n.sc(4,"slice"),n.Vb()}if(2&e){const e=n.rc(2);n.Gb(3),n.zc("ngForOf",n.vc(4,2,e.messageResults,0,3))("ngForTrackBy",e.trackById)}}function Lt(e,t){if(1&e){const e=n.Zb();n.Wb(0),n.Yb(1,"app-messaging-search-results-header",2),n.nc("handleSeeAll",function(){n.Qc(e);const t=n.rc();return t.switchPage(t.MessagingSearchResultsPage.PEOPLE)}),n.cc(2,3),n.Xb(),n.ad(3,Ct,1,4,"app-messaging-contact-item",4),n.Yb(4,"app-messaging-search-results-header",2),n.nc("handleSeeAll",function(){n.Qc(e);const t=n.rc();return t.switchPage(t.MessagingSearchResultsPage.JOBS)}),n.cc(5,5),n.Xb(),n.ad(6,yt,1,1,"app-messaging-jobs-search-item",6),n.ad(7,xt,5,6,"ng-container",7),n.Vb()}if(2&e){const e=n.rc();n.Gb(3),n.zc("flRepeat",3),n.Gb(3),n.zc("flRepeat",2),n.Gb(1),n.zc("ngIf",(null==e.messageResults?null:e.messageResults.length)>0)}}function Ot(e,t){if(1&e&&n.Tb(0,"app-messaging-contact-item",8),2&e){const e=n.rc(2);n.zc("flMarginBottom",e.Margin.MID)("showCtas",!1)("showSubtitle",!1)("user",e.user)}}function zt(e,t){1&e&&(n.Wb(0),n.ad(1,Ot,1,4,"app-messaging-contact-item",4),n.Vb()),2&e&&(n.Gb(1),n.zc("flRepeat",5))}function wt(e,t){if(1&e&&n.Tb(0,"app-messaging-jobs-search-item",9),2&e){const e=n.rc(2);n.zc("flMarginBottom",e.Margin.MID)}}function At(e,t){1&e&&(n.Wb(0),n.ad(1,wt,1,1,"app-messaging-jobs-search-item",6),n.Vb()),2&e&&(n.Gb(1),n.zc("flRepeat",10))}function $t(e,t){if(1&e&&n.Tb(0,"app-messaging-thread-list-item",12),2&e){const e=t.$implicit,i=n.rc(2);n.zc("flMarginBottom",i.Margin.MID)("threadDetails",e)}}function Et(e,t){if(1&e&&(n.Wb(0),n.ad(1,$t,1,2,"app-messaging-thread-list-item",11),n.sc(2,"slice"),n.Vb()),2&e){const e=n.rc();n.Gb(1),n.zc("ngForOf",n.vc(2,2,e.messageResults,0,3))("ngForTrackBy",e.trackById)}}var vt=function(e){return e[e.ALL=0]="ALL",e[e.PEOPLE=1]="PEOPLE",e[e.JOBS=2]="JOBS",e[e.MESSAGES=3]="MESSAGES",e}({});let kt=(()=>{class e{constructor(e){this.assets=e,this.FontColor=Q.a,this.Margin=s.a,this.MessagingSearchResultsPage=vt,this.TextSize=v.f,this.TextTransform=v.g,this.trackById=ut.m,this.currentPage=vt.ALL,this.user={avatar:this.assets.getUrl("bits/avatars/96-1.jpg"),displayName:"Jake P.",username:"jakeperalta"}}switchPage(e){this.currentPage=e}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(pt.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["app-messaging-search-results"]],inputs:{messageResults:"messageResults"},decls:5,vars:5,consts:function(){let e,t,i;return e=" People ",t=" Jobs ",i=" Messages ",[["flTrackingSection","MessagingSearchResults",1,"MessagingSearchResults",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"handleSeeAll"],e,[3,"flMarginBottom","showCtas","showSubtitle","user",4,"flRepeat"],t,[3,"flMarginBottom",4,"flRepeat"],[4,"ngIf"],[3,"flMarginBottom","showCtas","showSubtitle","user"],[3,"flMarginBottom"],i,[3,"flMarginBottom","threadDetails",4,"ngFor","ngForOf","ngForTrackBy"],[3,"flMarginBottom","threadDetails"]]},template:function(e,t){1&e&&(n.Yb(0,"fl-scrollable-content",0),n.ad(1,Lt,8,3,"ng-container",1),n.ad(2,zt,2,1,"ng-container",1),n.ad(3,At,2,1,"ng-container",1),n.ad(4,Et,3,6,"ng-container",1),n.Xb()),2&e&&(n.zc("ngSwitch",t.currentPage),n.Gb(1),n.zc("ngSwitchCase",t.MessagingSearchResultsPage.ALL),n.Gb(1),n.zc("ngSwitchCase",t.MessagingSearchResultsPage.PEOPLE),n.Gb(1),n.zc("ngSwitchCase",t.MessagingSearchResultsPage.JOBS),n.Gb(1),n.zc("ngSwitchCase",t.MessagingSearchResultsPage.MESSAGES))},directives:[W.a,A.a,U.s,U.t,Tt,Y.a,U.q,St.a,s.b,Mt,U.p,Se],pipes:[U.z],styles:["[_nghost-%COMP%]{display:block;overflow:auto}@media (min-width:768px){[_nghost-%COMP%]{width:378px}}.MessagingSearchResults[_ngcontent-%COMP%]{padding:16px}"],changeDetection:0}),e})();function Rt(e,t){1&e&&n.Ub(0)}function jt(e,t){1&e&&n.Ub(0)}function Pt(e,t){if(1&e&&(n.Yb(0,"fl-bit"),n.Yb(1,"fl-bit",4),n.ad(2,Rt,1,0,"ng-container",5),n.Xb(),n.Yb(3,"fl-bit",6),n.ad(4,jt,1,0,"ng-container",5),n.Xb(),n.Xb()),2&e){n.rc();const e=n.Nc(4),t=n.rc();n.Gb(1),n.zc("flHideMobile",!0),n.Gb(1),n.zc("ngTemplateOutlet",e),n.Gb(1),n.zc("flShowMobile",!0)("flSticky",!0)("flStickyBehaviour",t.StickyBehaviour.ALWAYS)("flStickyPosition",t.StickyPosition.TOP),n.Gb(1),n.zc("ngTemplateOutlet",e)}}function Ft(e,t){if(1&e){const e=n.Zb();n.Yb(0,"app-messaging-thread-recruiter-search",11),n.nc("startChat",function(t){return n.Qc(e),n.rc(3).onStartChat(t)}),n.sc(1,"flAsync"),n.sc(2,"flAsync"),n.sc(3,"flAsync"),n.Xb()}if(2&e){const e=n.rc(3);let t=null;n.zc("searching",(null==(t=n.tc(1,3,e.recruiterUserSearchQuery$))?null:t.length)>0)("status",n.tc(2,5,e.recruiterUserSearchResultFetchStatus$))("users",n.tc(3,7,e.recruiterUserSearchResult$))}}function Xt(e,t){if(1&e){const e=n.Zb();n.Yb(0,"fl-bit",7),n.Yb(1,"fl-search",8),n.nc("query",function(t){return n.Qc(e),n.rc(2).onSearch(t)})("submit",function(){n.Qc(e);const t=n.rc().ngIf;return n.rc().onSubmitSearch(t.loggedInUser)}),n.Xb(),n.Yb(2,"app-messaging-threads-filters",9),n.nc("filterSelected",function(t){return n.Qc(e),n.rc(2).onFilterSelected(t)}),n.sc(3,"flAsync"),n.Xb(),n.Xb(),n.ad(4,Ft,4,9,"app-messaging-thread-recruiter-search",10)}if(2&e){const e=n.rc().ngIf,t=n.rc();n.Gb(1),n.zc("flMarginRight",t.Margin.XXSMALL),n.Gb(1),n.zc("hasExistingThreads",n.tc(3,3,t.hasExistingThreads$)),n.Gb(2),n.zc("ngIf",null==e.loggedInUser||null==e.loggedInUser.supportStatus?null:e.loggedInUser.supportStatus.type)}}function _t(e,t){if(1&e&&(n.Tb(0,"app-messaging-search-results",12),n.sc(1,"flAsync")),2&e){const e=n.rc(2);n.zc("messageResults",n.tc(1,1,e.visibleThreadsDetails$))}}const Ut=function(e){return{"ThreadList--recruiter":e}};function Dt(e,t){if(1&e){const e=n.Zb();n.Wb(0),n.ad(1,Pt,5,7,"fl-bit",0),n.sc(2,"flAsync"),n.ad(3,Xt,5,5,"ng-template",null,1,n.bd),n.Yb(5,"app-messaging-thread-list",2),n.nc("loadMoreThreads",function(){return n.Qc(e),n.rc().onLoadMoreThreads()})("startChat",function(t){return n.Qc(e),n.rc().onStartChat(t)}),n.sc(6,"flAsync"),n.Xb(),n.ad(7,_t,2,3,"app-messaging-search-results",3),n.sc(8,"flAsync"),n.Vb()}if(2&e){const e=t.ngIf,i=n.rc();n.Gb(1),n.zc("ngIf",!n.tc(2,13,i.isNav$)),n.Gb(4),n.zc("ngClass",n.Ec(19,Ut,!(null==e.loggedInUser||null==e.loggedInUser.supportStatus||!e.loggedInUser.supportStatus.type)))("flHide",n.tc(6,15,i.isSearching$))("hasExistingThreads$",i.hasExistingThreads$)("hasMoreThreads$",i.hasMoreThreads$)("isInboxMode$",i.isInboxMode$)("isNav$",i.isNav$)("isSearching$",i.isSearching$)("loggedInUser$",i.loggedInUser$)("threadsDetails$",i.visibleThreadsDetails$)("threadsFetchStatus$",i.threadsFetchStatus$)("threadsLoadingStateType$",i.threadsLoadingStateType$),n.Gb(2),n.zc("ngIf",n.tc(8,17,i.isSearching$))}}const Nt=function(e){return{loggedInUser:e}};let Gt=(()=>{class e{constructor(e,t,i,a,c,o){this.auth=e,this.datastore=t,this.messagingChat=i,this.modalService=a,this.videochat=c,this.webSocketService=o,this.Margin=s.a,this.StickyBehaviour=r.a,this.StickyPosition=r.c,this.isNav$=h.a(!1),this.isInboxMode$=h.a(!1),this.isNewInboxShown$=h.a(!1),this.inCall$=h.a(!1),this.makingCall=new n.n,this.threadFilterSubject$=new g.a(k),this.threadFilter$=this.threadFilterSubject$.asObservable(),this.searchQuerySubject$=new g.a(""),this.searchQuery$=this.searchQuerySubject$.asObservable(),this.recruiterUserSearchQuerySubject$=new g.a(""),this.recruiterUserSearchQuery$=this.recruiterUserSearchQuerySubject$.asObservable(),this.THREADS_LIMIT_INCREMENT=100,this.NON_ARCHIVE_FOLDERS=[l.FolderApi.INBOX,l.FolderApi.SENT,l.FolderApi.FREELANCER,l.FolderApi.NONE]}ngOnInit(){const e=this.auth.getUserId().pipe(Object(u.a)(e=>Object(c.r)(e)));this.loggedInUser$=this.datastore.document("users",e).valueChanges(),this.threadsLimitSubject$=new g.a(this.THREADS_LIMIT_INCREMENT),this.threadsLimit$=this.threadsLimitSubject$.asObservable(),this.threadsLoadingStateType$=f.a(this.threadsLimit$.pipe(Object(u.a)(e=>z.SPINNER)),this.threadFilter$.pipe(Object(u.a)(e=>z.FULL_LIST))),this.hasExistingThreads$=this.datastore.collection("threads",e=>e.limit(1)).valueChanges().pipe(Object(u.a)(e=>e.length>0),Object(p.a)(!0));const t=this.datastore.collection("threads",e=>b.a([this.threadsLimit$,this.threadFilter$,this.isNav$]).pipe(Object(u.a)(([t,i,n])=>{if(n)return e.where("folder","in",this.NON_ARCHIVE_FOLDERS).limit(5);let s=e.limit(t+1);switch(i){case O.ACTIVE:s=s.where("folder","in",this.NON_ARCHIVE_FOLDERS);break;case O.UNREAD:s=s.where("isRead","==",!1);break;case O.SUPPORT:s=s.where("folder","in",this.NON_ARCHIVE_FOLDERS).where("threadType","==",l.ThreadTypeApi.ADMIN_PREFERRED_CHAT).where("contextType","==",l.ContextTypeApi.SUPPORT_SESSION);break;case O.ARCHIVED:s=s.where("folder","==",l.FolderApi.ARCHIVED);break;default:Object(c.a)(i)}return s})));this.threadsFetchStatus$=t.status$;const i=t.valueChanges();this.hasMoreThreads$=b.a([i,this.threadsLimit$]).pipe(Object(u.a)(([e,t])=>t<e.length));const n=b.a([i,this.hasMoreThreads$]).pipe(Object(u.a)(([e,t])=>t?e.slice(0,-1):e)),s=n.pipe(Object(u.a)(e=>Object(c.c)(e.map(e=>e.members)))),a=this.datastore.collection("users",e=>e.limit(1).where("username","equalsIgnoreCase",this.recruiterUserSearchQuery$.pipe(Object(u.a)(e=>e.trim()),Object(m.a)(e=>!!e))));this.recruiterUserSearchResult$=a.valueChanges().pipe(),this.recruiterUserSearchResultFetchStatus$=a.status$,this.users$=this.datastore.collection("users",s).valueChanges();const r=n.pipe(Object(u.a)(e=>Object(d.g)(e,l.ContextTypeApi.PROJECT)));this.projects$=this.datastore.collection("threadProjects",r).valueChanges();const h=n.pipe(Object(u.a)(e=>Object(d.g)(e,l.ContextTypeApi.CONTEST)));this.contests$=this.datastore.collection("contests",h).valueChanges();const S=b.a([n,this.users$,this.projects$,this.contests$]).pipe(Object(u.a)(([e,t,i,n])=>e.map(e=>{let s;if(e.context.type===l.ContextTypeApi.CONTEST){const t=e.context.id;s=n.find(e=>e.id===t)}else if(e.context.type===l.ContextTypeApi.PROJECT){const t=e.context.id;s=i.find(e=>e.id===t)}return{thread:e,contextObject:s,members:e.members.map(e=>t.find(t=>t.id===e)||void 0).filter(c.g)}})));this.visibleThreadsDetails$=b.a([e,S,this.searchQuery$]).pipe(Object(u.a)(([e,t,i])=>{const n=i.toLowerCase();return t.filter(t=>{var i;return(null===(i=t.contextObject)||void 0===i?void 0:i.title.toLowerCase().includes(n))||t.members.some(t=>t.id!==e&&(t.displayName.toLowerCase().includes(n)||t.username.toLowerCase().includes(n)))})})),this.isSearching$=this.searchQuery$.pipe(Object(u.a)(e=>!!e));const C=Object(M.a)(this.webSocketService,this.auth.authState$,this.inCall$.pipe(Object(T.a)()));this.callAlertSubscription=b.a([C,this.isNewInboxShown$,this.isInboxMode$,this.isNav$]).subscribe(([e,t,i,n])=>{i&&!t||n||void 0!==e&&(e.type!==o.a.NONE?this.popCallAlertModal(e):(this.makingCall.next(!!e.makingCall),this.modalService.close()))})}onLoadMoreThreads(){this.threadsLimitSubject$.next(this.threadsLimitSubject$.value+this.THREADS_LIMIT_INCREMENT)}onFilterSelected(e){this.threadFilterSubject$.next(e)}onSearch(e){this.searchQuerySubject$.next(e),this.recruiterUserSearchQuerySubject$.next("")}onStartChat(e){this.messagingChat.startChat(e)}onSubmitSearch(e){var t;(null===(t=null==e?void 0:e.supportStatus)||void 0===t?void 0:t.type)&&this.recruiterUserSearchQuerySubject$.next(this.searchQuerySubject$.getValue())}trackByThreadId(e,t){return t.thread.id}popCallAlertModal(e){this.modalService.open("CallAlertModal",{inputs:{otherUserIds:e.otherMembers,callType:e.type,threadId:e.threadId,recorded:e.recorded},size:a.a.SMALL}).afterClosed().pipe(Object(S.a)(this.inCall$)).toPromise().then(([t,i])=>{i||(t?(this.videochat.openCallWindow({action:e.type,threadId:e.threadId,accepting:!0}),this.videochat.notifyAction("accept",e.threadId)):this.videochat.notifyAction("reject",e.threadId))})}ngOnDestroy(){var e;this.threadFilterSubscription&&this.threadFilterSubscription.unsubscribe(),null===(e=this.callAlertSubscription)||void 0===e||e.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(j.a),n.Sb(P.a),n.Sb(X.d),n.Sb(_.b),n.Sb(o.b),n.Sb(F.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["app-messaging-threads"]],inputs:{isNav$:"isNav$",isInboxMode$:"isInboxMode$",isNewInboxShown$:"isNewInboxShown$",inCall$:"inCall$"},outputs:{makingCall:"makingCall"},decls:2,vars:5,consts:[[4,"ngIf"],["actions",""],[1,"ThreadList",3,"ngClass","flHide","hasExistingThreads$","hasMoreThreads$","isInboxMode$","isNav$","isSearching$","loggedInUser$","threadsDetails$","threadsFetchStatus$","threadsLoadingStateType$","loadMoreThreads","startChat"],[3,"messageResults",4,"ngIf"],[3,"flHideMobile"],[4,"ngTemplateOutlet"],[3,"flShowMobile","flSticky","flStickyBehaviour","flStickyPosition"],[1,"MessagingThreads-actions"],[1,"MessagingThreads-actions-search",3,"flMarginRight","query","submit"],[3,"hasExistingThreads","filterSelected"],[3,"searching","status","users","startChat",4,"ngIf"],[3,"searching","status","users","startChat"],[3,"messageResults"]],template:function(e,t){1&e&&(n.ad(0,Dt,9,21,"ng-container",0),n.sc(1,"flAsync")),2&e&&n.zc("ngIf",n.Ec(3,Nt,n.tc(1,1,t.loggedInUser$)))},directives:[U.q,et,U.o,tt.a,B.a,U.v,r.b,it.a,s.b,R,bt,kt],pipes:[he.a],styles:["[_nghost-%COMP%]{background:#fff;display:flex;flex-direction:column;height:100%}.MessagingThreads-actions[_ngcontent-%COMP%]{align-items:center;background-color:#fff;display:flex;justify-content:flex-end;padding:12px}.MessagingThreads-actions-search[_ngcontent-%COMP%]{flex-grow:1}.ThreadList[_ngcontent-%COMP%]{display:block;flex:0 1 100%;overflow-y:hidden;position:relative;width:100%}"],changeDetection:0}),e})()},hkQL:function(e,t,i){"use strict";i.d(t,"a",function(){return w});var n=i("SVse"),s=i("s7LF"),a=i("JADw"),r=i("Nr4O"),c=i("48dK"),o=i("tKIg"),l=i("EgRV"),d=i("9u4R"),h=i("tqRt"),g=i("OpNG"),f=i("cUs2");function b(){return{defaultOrder:{field:"id",direction:g.a.ASC},fetch:(e,t,i,n)=>({endpoint:`users/0.1/teams/${Object(f.h)(i,"teamId")[0]}/members/`,isGaf:!1,params:{}}),push:void 0,set:void 0,update:void 0,remove:void 0}}var u=i("f6cb");function p(e,t){if(!(e.id&&t&&e.user_id&&e.role&&e.permissions&&void 0!==e.is_deleted))throw new ReferenceError("Missing a required team member field.");const i=Object(u.d)(Object.entries(e.permissions).map(([e,t])=>[e,t||!1]));return{id:e.id,teamId:t,userId:e.user_id,description:e.description,role:e.role,permissions:i,isDeleted:e.is_deleted||!1,accessToken:e.access_token,lastUpdated:e.last_updated?1e3*e.last_updated:void 0,joined:e.joined?1e3*e.joined:void 0}}function m(e={},t){switch(t.type){case"API_FETCH_SUCCESS":if("teamMembers"===t.payload.type){const{result:i,ref:n,order:s}=t.payload;return i.team&&i.team.members?Object(f.o)(e,Object(f.z)(i.team.members,p,i.team.id),s,n):e}return e;default:return e}}var T=i("8Y7J");let S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=T.Qb({type:e}),e.\u0275inj=T.Pb({imports:[[h.j.forFeature("teamMembers",m),d.d.forFeature("teamMembers",b)]]}),e})();var M=i("ynQg"),C=i("jnT3"),y=i("7LCa"),I=i("pjJp"),x=i("EXHp"),L=i("18b0"),O=i("cokP"),z=i("knEe");let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=T.Qb({type:e}),e.\u0275inj=T.Pb({imports:[[O.a,n.c,s.u,L.a,z.a,x.a,a.a,r.a,c.a,o.a,l.a,S,M.a,C.a,y.a,I.a]]}),e})()},kuzk:function(e,t,i){"use strict";i.d(t,"a",function(){return kt});var n=i("8Y7J"),s=i("s7LF"),a=i("iInd"),r=i("97vJ"),c=i("OpNG"),o=i("jnZY"),l=i("3f1L"),d=i("ph87"),h=i("yeKy"),g=i("4ykm"),f=i("Rnop"),b=i("o9eT"),u=i("f6cb"),p=i("tbiQ"),m=i("tsv4"),T=i("b6KT"),S=i("qSur"),M=i("LRne"),C=i("2Vo4"),y=i("XNiG"),I=i("itXk"),x=i("VRyK"),L=i("05l1"),O=i("x+ZX"),z=i("lJxs"),w=i("JX91"),A=i("/uUt"),$=i("pLZG"),E=i("CqXF"),v=i("Kj3r"),k=i("vkgz"),R=i("1G5W"),j=i("zp1y"),P=i("Kqyd"),F=i("HsDr"),X=i("w5Bh"),_=i("9Aot"),U=i("DSso"),D=i("SVse"),N=i("/zj7"),G=i("KtYJ"),B=i("al+g");function Y(e,t){if(1&e){const e=n.Zb();n.Yb(0,"fl-list-item",5),n.nc("click",function(){return n.Qc(e),n.rc(2).handleThreadSearchToggle()}),n.Tb(1,"fl-icon",6),n.Yb(2,"fl-text",7),n.cc(3,8),n.Xb(),n.Xb()}if(2&e){const e=n.rc(2);n.Gb(1),n.zc("size",e.IconSize.SMALL),n.Gb(1),n.zc("fontType",e.FontType.SPAN)}}function H(e,t){if(1&e&&(n.Yb(0,"fl-list",3),n.ad(1,Y,4,2,"fl-list-item",4),n.Xb()),2&e){const e=n.rc();n.zc("clickable",!0),n.Gb(1),n.zc("ngIf",e.showThreadSearchOption)}}var V=function(e){return e.USER="user",e.THREAD="thread",e}({});let W=(()=>{class e{constructor(){this.Margin=_.a,this.FontType=b.b,this.IconColor=F.c,this.IconSize=F.e,this.InputSize=X.b,this.threadSearchEnabled=!1,this.showThreadSearchOption=!1,this.searchMode=V.USER,this.keyEnter=new n.n,this.threadSearchSelected=new n.n}ngOnInit(){this.showClearInputIcon$=this.inputControl.valueChanges.pipe(Object(z.a)(e=>""!==e.trim()),Object(A.a)(),Object(w.a)(!1))}handleThreadSearchToggle(){this.threadSearchSelected.emit()}handleInputKeypress(e){(e.key&&"enter"===e.key.toLowerCase()||13===(e.which||e.keyCode||e.charCode))&&this.keyEnter.emit()}handleClearInput(){this.inputControl.setValue("")}ngOnDestroy(){this.contactsToggleSubscription&&this.contactsToggleSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["app-search"]],inputs:{inputControl:"inputControl",threadSearchEnabled:"threadSearchEnabled",showThreadSearchOption:"showThreadSearchOption",searchMode:"searchMode"},outputs:{keyEnter:"keyEnter",threadSearchSelected:"threadSearchSelected"},decls:4,vars:11,consts:function(){let e,t;return e="Search for People",t=" Search your messages instead ",[["ngDefaultControl","","flTrackingLabel","Search","iconStart","ui-search","placeholder",e,1,"InputField",3,"control","leftIconSize","leftIconColor","iconEnd","rightIconSize","rightIconColor","size","flMarginBottom","keypress","iconEndClick"],["searchInput",""],["class","ToggleContainer",3,"clickable",4,"ngIf"],[1,"ToggleContainer",3,"clickable"],["flTrackingLabel","ThreadSearchToggle",3,"click",4,"ngIf"],["flTrackingLabel","ThreadSearchToggle",3,"click"],["name","ui-search",3,"size"],[3,"fontType"],t]},template:function(e,t){1&e&&(n.Yb(0,"fl-input",0,1),n.nc("keypress",function(e){return t.handleInputKeypress(e)})("iconEndClick",function(){return t.handleClearInput()}),n.sc(2,"flAsync"),n.Xb(),n.ad(3,H,2,2,"fl-list",2)),2&e&&(n.zc("control",t.inputControl)("leftIconSize",t.IconSize.SMALL)("leftIconColor",t.IconColor.DARK)("iconEnd",n.tc(2,9,t.showClearInputIcon$)?"ui-close":void 0)("rightIconSize",t.IconSize.SMALL)("rightIconColor",t.IconColor.DARK)("size",t.InputSize.SMALL)("flMarginBottom",t.threadSearchEnabled&&t.showThreadSearchOption?t.Margin.XSMALL:t.Margin.NONE),n.Gb(3),n.zc("ngIf",t.threadSearchEnabled))},directives:[X.a,s.c,U.a,_.b,D.q,N.a,G.b,F.d,b.e],pipes:[B.a],styles:["[_nghost-%COMP%]{background-color:#fff;padding:8px;width:100%}@media (max-width:767px){[_nghost-%COMP%]{padding-left:calc(env(safe-area-inset-left) + 16px);padding-right:calc(env(safe-area-inset-left) + 16px)}}.InputField[_ngcontent-%COMP%]{width:100%}.ToggleContainer[_ngcontent-%COMP%]{display:flex;width:100%}.IconContainer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center}"],changeDetection:0}),e})();var Q=i("YKAE"),K=i("w13q"),q=i("71eJ"),J=i("dJr3"),Z=i("pZRy"),ee=i("Z8zW");function te(e,t){if(1&e&&(n.Yb(0,"fl-text",9),n.cc(1,10),n.Xb()),2&e){const e=n.rc(3);n.zc("size",e.TextSize.XSMALL)("fontType",e.FontType.SPAN)}}function ie(e,t){if(1&e&&(n.Yb(0,"fl-text",9),n.cd(1),n.sc(2,"uppercase"),n.Xb()),2&e){const e=n.rc(3);n.zc("size",e.TextSize.XSMALL)("fontType",e.FontType.SPAN),n.Gb(1),n.ed(" ",n.tc(2,3,e.threadSet.title)," ")}}function ne(e,t){if(1&e&&(n.Yb(0,"fl-list-item-header",5),n.Wb(1,6),n.ad(2,te,2,2,"fl-text",7),n.ad(3,ie,3,5,"fl-text",8),n.Vb(),n.Xb()),2&e){const e=n.rc(2);n.Gb(1),n.zc("ngSwitch",e.threadSet.index),n.Gb(1),n.zc("ngSwitchCase",e.ThreadSetIndex.OTHER)}}function se(e,t){if(1&e&&(n.Tb(0,"fl-user-avatar",27),n.sc(1,"isOnline"),n.sc(2,"flAsync")),2&e){const e=n.rc().$implicit,t=n.rc(3);n.zc("users",t.getThreadMembers(e))("isOnline",1===e.otherMembers.length&&t.users[e.otherMembers[0]]?n.uc(1,3,t.users[e.otherMembers[0]],n.tc(2,6,t.onlineOfflineStatuses$)):void 0)("flMarginRight",t.Margin.XXXSMALL)}}function ae(e,t){if(1&e&&n.Tb(0,"fl-username",30),2&e){const e=n.rc(2).$implicit,t=n.rc(3);n.zc("truncateText",!0)("displayName",null==t.users[e.otherMembers[0]]?null:t.users[e.otherMembers[0]].displayName)("truncateText",!0)("username",null==t.users[e.otherMembers[0]]?null:t.users[e.otherMembers[0]].username)("flMarginBottom",t.Margin.XXXSMALL)}}function re(e,t){if(1&e&&(n.Yb(0,"fl-text",31),n.cd(1),n.Xb()),2&e){const e=n.rc(2).$implicit,t=n.rc(3);n.zc("size",t.TextSize.XSMALL)("weight",t.FontWeight.MEDIUM)("flMarginBottom",t.Margin.XXXSMALL),n.Gb(1),n.ed(" ",t.getTitle(e)," ")}}function ce(e,t){if(1&e&&(n.Yb(0,"fl-bit",22),n.ad(1,ae,1,5,"fl-username",28),n.ad(2,re,2,4,"ng-template",null,29,n.bd),n.Xb()),2&e){const e=t.ngIf,i=n.Nc(3),s=n.rc().$implicit,a=n.rc(3);n.Gb(1),n.zc("ngIf",e===a.ThreadTitleType.USERNAME&&(null==s.otherMembers?null:s.otherMembers.length)>0&&a.users[s.otherMembers[0]])("ngIfElse",i)}}function oe(e,t){if(1&e&&(n.Yb(0,"fl-bit",25),n.Tb(1,"fl-relative-time",32),n.Xb()),2&e){const e=n.rc().$implicit;n.Gb(1),n.zc("date",null==e.message?null:e.message.timeCreated)("strict",!0)("includeSeconds",!1)}}function le(e,t){if(1&e&&(n.Yb(0,"fl-text",33),n.Yb(1,"fl-text",34),n.cd(2),n.Xb(),n.Yb(3,"fl-text",35),n.cd(4),n.Xb(),n.Yb(5,"fl-text",34),n.cd(6),n.Xb(),n.Xb()),2&e){const e=n.rc().$implicit,t=n.rc(3);n.zc("fontType",t.FontType.SPAN),n.Gb(1),n.Wc(t.FontStyle.ITALIC),n.zc("fontType",t.FontType.SPAN)("color",t.FontColor.MID),n.Gb(1),n.ed(" ",e.highlights[0].highlightedText.preceding," "),n.Gb(1),n.Wc(t.FontStyle.ITALIC),n.zc("fontType",t.FontType.SPAN)("color",t.FontColor.MID),n.Gb(1),n.ed(" ",e.highlights[0].highlightedText.highlighted," "),n.Gb(1),n.Wc(t.FontStyle.ITALIC),n.zc("fontType",t.FontType.SPAN)("color",t.FontColor.MID),n.Gb(1),n.ed(" ",e.highlights[0].highlightedText.succeeding," ")}}function de(e,t){if(1&e&&(n.Yb(0,"fl-text",37),n.cd(1),n.Xb()),2&e){const e=n.rc(2).$implicit,t=n.rc(3);n.zc("fontType",t.FontType.SPAN)("color",e.messageUnreadCount>0?t.FontColor.DARK:t.FontColor.MID)("weight",e.messageUnreadCount>0?t.FontWeight.BOLD:t.FontWeight.NORMAL),n.Gb(1),n.ed(" ",t.getSubtitle(e)," ")}}function he(e,t){if(1&e&&n.ad(0,de,2,4,"fl-text",36),2&e){const e=n.rc().$implicit,t=n.rc(3);n.zc("ngIf",!!t.getSubtitle(e))}}function ge(e,t){if(1&e&&(n.Yb(0,"fl-text",38),n.cd(1),n.Xb()),2&e){const e=n.rc().$implicit,t=n.rc(3);n.zc("size",t.TextSize.XXXSMALL)("fontType",t.FontType.SPAN)("weight",t.FontWeight.BOLD)("color",t.FontColor.LIGHT),n.Gb(1),n.ed(" ",e.messageUnreadCount<100?e.messageUnreadCount:"99+"," ")}}const fe=function(e){return{Selected:e}};function be(e,t){if(1&e){const e=n.Zb();n.Yb(0,"fl-bit",14),n.Yb(1,"fl-bit",15),n.nc("click",function(){n.Qc(e);const i=t.$implicit;return n.rc(3).handleThreadSelected(i)}),n.Yb(2,"fl-bit",16),n.ad(3,se,3,8,"fl-user-avatar",17),n.Xb(),n.Yb(4,"fl-bit",18),n.Yb(5,"fl-bit",19),n.ad(6,ce,4,2,"fl-bit",20),n.ad(7,oe,2,3,"fl-bit",21),n.Xb(),n.Yb(8,"fl-bit",19),n.Yb(9,"fl-bit",22),n.ad(10,le,7,16,"fl-text",23),n.ad(11,he,1,1,"ng-template",null,24,n.bd),n.Xb(),n.Yb(13,"fl-bit",25),n.ad(14,ge,2,5,"fl-text",26),n.Xb(),n.Xb(),n.Xb(),n.Xb(),n.Xb()}if(2&e){const e=t.$implicit,i=n.Nc(12),s=n.rc(3);n.Gb(1),n.Ac("flTrackingReferenceId",e.id),n.zc("ngClass",n.Ec(8,fe,s.inboxMode&&s.selectedThreadId===e.id)),n.Gb(2),n.zc("ngIf",e.otherMembers.length>0),n.Gb(3),n.zc("ngIf",s.getTitleType(e)),n.Gb(1),n.zc("ngIf",s.inboxMode&&(null==e.message?null:e.message.timeCreated)),n.Gb(3),n.zc("ngIf",e.highlights&&e.highlights[0])("ngIfElse",i),n.Gb(4),n.zc("ngIf",e.messageUnreadCount>0)}}function ue(e,t){if(1&e&&(n.Yb(0,"fl-list-item-body",11),n.Yb(1,"fl-bit",12),n.ad(2,be,15,10,"fl-bit",13),n.Xb(),n.Xb()),2&e){const e=n.rc(2);n.Gb(2),n.zc("ngForOf",e.threadSet.threads)("ngForTrackBy",e.identifyThread)}}const pe=function(e){return{GrayBackground:e}};function me(e,t){if(1&e&&(n.Yb(0,"fl-list",1),n.Yb(1,"fl-list-item",2),n.ad(2,ne,4,2,"fl-list-item-header",3),n.ad(3,ue,3,2,"fl-list-item-body",4),n.Xb(),n.Xb()),2&e){const e=n.rc();n.zc("bodyEdgeToEdge",!0)("clickable",e.threadSet.index===e.ThreadSetIndex.TEAMS)("expandable",e.threadSet.index===e.ThreadSetIndex.TEAMS)("padding",e.ListItemPadding.XXXSMALL)("type",e.ListItemType.DEFAULT),n.Gb(1),n.zc("ngClass",n.Ec(8,pe,e.grayBackground)),n.Gb(1),n.zc("ngIf",e.threadSet.title),n.Gb(1),n.zc("ngIf",e.threadSet.threads.length>0)}}var Te=function(e){return e.SEARCH="search_results",e.ACTIVE="default",e.OTHER="other",e}({}),Se=function(e){return e[e.SEARCH=0]="SEARCH",e[e.ACTIVE=1]="ACTIVE",e[e.TEAMS=2]="TEAMS",e[e.OTHER=3]="OTHER",e[e.SUPPORT=4]="SUPPORT",e}({}),Me=function(e){return e.CONTEXT_TITLE="Context Title",e.USERNAME="Username",e}({});let Ce=(()=>{class e{constructor(){this.Margin=_.a,this.TextSize=b.f,this.FontColor=f.a,this.FontStyle=b.a,this.FontType=b.b,this.FontWeight=b.c,this.HoverColor=F.a,this.IconColor=F.c,this.IconSize=F.e,this.TooltipPosition=Q.b,this.ListItemType=G.f,this.ListItemPadding=G.e,this.ThreadSetIndex=Se,this.ThreadTitleType=Me,this.grayBackground=!1,this.selectThread=new n.n}handleThreadSelected(e){this.selectThread.emit(e)}getThreadMembers(e){return e.otherMembers.map(e=>this.users[e]||void 0).filter(u.g)}getTitleType(e){return e.threadType===m.ThreadTypeApi.PRIVATE_CHAT||e.threadType===m.ThreadTypeApi.ADMIN_PREFERRED_CHAT||e.threadType===m.ThreadTypeApi.PRIMARY?Me.USERNAME:Me.CONTEXT_TITLE}getTitle(e){return"project"===e.context.type&&this.projects&&this.projects[e.context.id]?this.projects[e.context.id].title:"contest"===e.context.type&&this.contests&&this.contests[e.context.id]?this.contests[e.context.id].title:e.threadType===m.ThreadTypeApi.TEAM_OFFICIAL&&this.threadSet.title?this.threadSet.title:e.otherMembers.filter(e=>this.users[e]).map(e=>this.users[e].displayName).join(", ")}getSubtitle(e){if("contest"===e.context.type&&!this.contests[e.context.id]||"project"===e.context.type&&!this.projects[e.context.id])return`This ${e.context.type} has been deleted`;if(e.message){if(e.message.message)return e.message.message;const t=this.users[e.message.fromUser];if(e.message.attachments&&t)return`${t.displayName} sent an attachment`}return e.message||e.threadType===m.ThreadTypeApi.ADMIN_PREFERRED_CHAT||e.threadType===m.ThreadTypeApi.GROUP||"project"!==e.context.type&&"contest"!==e.context.type?e.threadType===m.ThreadTypeApi.TEAM_OFFICIAL?"Official Group Chat":void 0:this.getTitle(e)}identifyThread(e,t){return t.id}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["app-thread-set"]],inputs:{grayBackground:"grayBackground",threadSet:"threadSet",users:"users",contests:"contests",projects:"projects",inboxMode:"inboxMode",onlineOfflineStatuses$:"onlineOfflineStatuses$",selectedThreadId:"selectedThreadId"},outputs:{selectThread:"selectThread"},decls:1,vars:1,consts:function(){let e;return e=" OTHER CHATS ",[[3,"bodyEdgeToEdge","clickable","expandable","padding","type",4,"ngIf"],[3,"bodyEdgeToEdge","clickable","expandable","padding","type"],[3,"ngClass"],["class","ThreadSetHeader",4,"ngIf"],["class","ThreadSetBody",4,"ngIf"],[1,"ThreadSetHeader"],[3,"ngSwitch"],["class","ThreadRowTitle",3,"size","fontType",4,"ngSwitchCase"],["class","ThreadRowTitle",3,"size","fontType",4,"ngSwitchDefault"],[1,"ThreadRowTitle",3,"size","fontType"],e,[1,"ThreadSetBody"],[1,"ThreadList"],["class","ThreadListItem",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ThreadListItem"],["flTrackingLabel","ThreadSelected","flTrackingReferenceType","thread_id",1,"ThreadListItemRow",3,"ngClass","flTrackingReferenceId","click"],[1,"AvatarContainer"],[3,"users","isOnline","flMarginRight",4,"ngIf"],[1,"MainRow"],[1,"MainRowContent"],["class","TextContainer",4,"ngIf"],["class","IconContainer",4,"ngIf"],[1,"TextContainer"],[3,"fontType",4,"ngIf","ngIfElse"],["displaySubtitle",""],[1,"IconContainer"],["class","UnreadCount","data-size","mid",3,"size","fontType","weight","color",4,"ngIf"],[3,"users","isOnline","flMarginRight"],["class","Username",3,"truncateText","displayName","username","flMarginBottom",4,"ngIf","ngIfElse"],["displayThreadTitle",""],[1,"Username",3,"truncateText","displayName","username","flMarginBottom"],["data-uitest-target","contactlist-thread-item-title",1,"Title",3,"size","weight","flMarginBottom"],[3,"date","strict","includeSeconds"],[3,"fontType"],[1,"Subtitle",3,"fontType","color"],[1,"Highlighted","Subtitle",3,"fontType","color"],["class","Subtitle",3,"fontType","color","weight",4,"ngIf"],[1,"Subtitle",3,"fontType","color","weight"],["data-size","mid",1,"UnreadCount",3,"size","fontType","weight","color"]]},template:function(e,t){1&e&&n.ad(0,me,4,10,"fl-list",0),2&e&&n.zc("ngIf",t.threadSet.threads.length>0)},directives:[D.q,N.a,G.b,D.o,G.c,D.s,D.t,D.u,b.e,G.a,K.a,D.p,U.a,q.b,_.b,J.b,Z.b],pipes:[D.B,ee.a,B.a],styles:["[_nghost-%COMP%]{color:#0e1724;margin:0 0 4px}.GrayBackground[_ngcontent-%COMP%]{background:#f0f0f0}.ThreadList[_ngcontent-%COMP%]{box-sizing:border-box;display:flex;flex-direction:column;width:auto}.ThreadListItem[_ngcontent-%COMP%]{box-sizing:border-box;display:block;width:100%}.ThreadListItem[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}.ThreadListItemRow[_ngcontent-%COMP%]{cursor:pointer;display:flex;padding:8px}@media (max-width:767px){.ThreadListItemRow[_ngcontent-%COMP%]{padding-left:calc(env(safe-area-inset-left) + 16px);padding-right:calc(env(safe-area-inset-left) + 16px)}}.ThreadListItemRow[_ngcontent-%COMP%]:hover   .ToggleArchive[_ngcontent-%COMP%]{opacity:1}.MainRow[_ngcontent-%COMP%]{flex:1 1 0%;flex-direction:column;min-width:0}.MainRow[_ngcontent-%COMP%], .MainRowContent[_ngcontent-%COMP%]{display:flex}.TextContainer[_ngcontent-%COMP%]{flex:1 1 0%;min-width:0;padding-right:4px}.TextContainer[_ngcontent-%COMP%], .ThreadRowTitle[_ngcontent-%COMP%], .Title[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.IconContainer[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column}.ThreadSetHeader[_ngcontent-%COMP%]{display:flex;padding:4px}.ToggleArchive[_ngcontent-%COMP%]{opacity:0;transition:opacity .1s ease-in-out}.ToggleArchive[_ngcontent-%COMP%]:hover{opacity:1}.UnreadCount[_ngcontent-%COMP%]{align-items:center;background:#eb3730;border-radius:50%;display:flex;justify-content:center}.UnreadCount[data-size=mid][_ngcontent-%COMP%]{height:23px;width:23px}.UnreadCount[data-size=small][_ngcontent-%COMP%]{height:20px;width:20px}.Username[_ngcontent-%COMP%]{flex-wrap:nowrap}.Highlighted[_ngcontent-%COMP%]{background-color:#ffeb3b}@media (max-width:960px){.ThreadRowTitle[_ngcontent-%COMP%]{white-space:normal}}.AvatarContainer[_ngcontent-%COMP%]{position:relative}.FloatingUnreadCountContainer[_ngcontent-%COMP%]{display:inline-block;line-height:0;position:absolute;right:0;top:0}.Selected[_ngcontent-%COMP%]{background-color:#f0f0f0}"],changeDetection:0}),e})();var ye=i("/wLE"),Ie=i("eCtd"),xe=i("w792"),Le=i("3A0Z"),Oe=i("YFxV"),ze=i("SMHo"),we=i("2zwU"),Ae=i("lDT0"),$e=i("KUXl");function Ee(e,t){if(1&e&&(n.Wb(0),n.Tb(1,"fl-text",10),n.Vb()),2&e){const e=n.rc();n.Gb(1),n.zc("fontType",e.FontType.SPAN)}}function ve(e,t){if(1&e&&(n.Yb(0,"fl-text",11),n.cc(1,12),n.Xb()),2&e){const e=n.rc();n.zc("color",e.FontColor.DARK)("weight",e.FontWeight.BOLD)("flMarginRight",e.Margin.XXSMALL)}}function ke(e,t){if(1&e&&(n.Yb(0,"fl-text",13),n.cc(1,14),n.Xb()),2&e){const e=n.rc();n.zc("color",e.FontColor.LIGHT)("weight",e.FontWeight.BOLD)("fontType",e.FontType.SPAN)}}function Re(e,t){if(1&e&&(n.Wb(0),n.Yb(1,"fl-text",15),n.cd(2),n.Xb(),n.Vb()),2&e){const e=n.rc();n.Gb(1),n.zc("fontType",e.FontType.SPAN)("color",e.FontColor.LIGHT),n.Gb(1),n.ed(" (",e.unreadCount,") ")}}function je(e,t){if(1&e){const e=n.Zb();n.Yb(0,"fl-icon",16),n.nc("click",function(){return n.Qc(e),n.rc().toggleSounds()}),n.Xb()}if(2&e){const e=n.rc();n.zc("color",e.isCompact?e.IconColor.LIGHT:e.IconColor.DARK)("size",e.IconSize.SMALL)("hoverColor",e.HoverColor.PRIMARY)}}function Pe(e,t){if(1&e){const e=n.Zb();n.Yb(0,"fl-icon",17),n.nc("click",function(){return n.Qc(e),n.rc().toggleSounds()}),n.Xb()}if(2&e){const e=n.rc();n.zc("color",e.isCompact?e.IconColor.LIGHT:e.IconColor.PRIMARY)("size",e.IconSize.SMALL)("hoverColor",e.HoverColor.PRIMARY)}}function Fe(e,t){if(1&e){const e=n.Zb();n.Yb(0,"fl-icon",18),n.nc("click",function(){return n.Qc(e),n.rc().toggleMinimise()}),n.Xb()}if(2&e){const e=n.rc();n.zc("color",e.IconColor.LIGHT)("size",e.IconSize.SMALL)("hoverColor",e.HoverColor.PRIMARY)}}function Xe(e,t){if(1&e){const e=n.Zb();n.Yb(0,"fl-icon",19),n.nc("click",function(){return n.Qc(e),n.rc().toggleMinimise()}),n.Xb()}if(2&e){const e=n.rc();n.zc("color",e.IconColor.LIGHT)("size",e.IconSize.SMALL)("hoverColor",e.HoverColor.PRIMARY)}}let _e=(()=>{class e{constructor(){this.Margin=_.a,this.FontType=b.b,this.FontColor=f.a,this.FontWeight=b.c,this.IconColor=F.c,this.IconSize=F.e,this.HoverColor=F.a,this.LinkUnderline=Ae.e,this.minimise=new n.n,this.setChatSoundSetting=new n.n}handleClick(){(this.isCompact||this.isMinimised)&&this.toggleMinimise()}toggleMinimise(){this.minimise.emit()}toggleSounds(){this.setChatSoundSetting.emit({setting:this.soundSetting,enabled:!(this.soundSetting&&this.soundSetting.enabled)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["app-header"]],hostVars:4,hostBindings:function(e,t){1&e&&n.nc("click",function(){return t.handleClick()}),2&e&&n.Kb("IsCompact",t.isCompact)("IsMinimised",t.isMinimised)},inputs:{isCompact:"isCompact",isMinimised:"isMinimised",soundSetting:"soundSetting",unreadCount:"unreadCount"},outputs:{minimise:"minimise",setChatSoundSetting:"setChatSoundSetting"},decls:12,vars:12,consts:function(){let e,t,i,n,s,a,r;return e="Go to inbox",t="Disable sounds",i="Enable sounds",n="Minimise contact list",s="Un-minimise contact list",a=" Notifications ",r=" Chats ",[[4,"ngIf"],[3,"color","weight","flMarginRight",4,"ngIf"],[3,"color","weight","fontType",4,"ngIf"],["flTrackingSection","contact-list-header",3,"click"],["flTrackingLabel","GoToMessages","link","/messages",3,"underline"],["name","ui-inbox","label",e,"data-uitest-target","contactlist-inbox-button",1,"Icon",3,"color","size","hoverColor"],["flTrackingLabel","DisableSounds","class","Icon","name","ui-bell-v2","label",t,3,"color","size","hoverColor","click",4,"ngIf"],["flTrackingLabel","EnableSounds","class","Icon","name","ui-bell-silent-v2","label",i,3,"color","size","hoverColor","click",4,"ngIf"],["flTrackingLabel","Minimise","class","Icon","name","ui-minimise","label",n,"data-uitest-target","contactlist-minimise-button",3,"color","size","hoverColor","click",4,"ngIf"],["flTrackingLabel","Maximise","class","Icon","name","ui-maximise","label",s,3,"color","size","hoverColor","click",4,"ngIf"],[1,"DotAlert",3,"fontType"],[3,"color","weight","flMarginRight"],a,[3,"color","weight","fontType"],r,[3,"fontType","color"],["flTrackingLabel","DisableSounds","name","ui-bell-v2","label",t,1,"Icon",3,"color","size","hoverColor","click"],["flTrackingLabel","EnableSounds","name","ui-bell-silent-v2","label",i,1,"Icon",3,"color","size","hoverColor","click"],["flTrackingLabel","Minimise","name","ui-minimise","label",n,"data-uitest-target","contactlist-minimise-button",1,"Icon",3,"color","size","hoverColor","click"],["flTrackingLabel","Maximise","name","ui-maximise","label",s,1,"Icon",3,"color","size","hoverColor","click"]]},template:function(e,t){1&e&&(n.Yb(0,"fl-bit"),n.ad(1,Ee,2,1,"ng-container",0),n.ad(2,ve,2,3,"fl-text",1),n.ad(3,ke,2,3,"fl-text",2),n.ad(4,Re,3,3,"ng-container",0),n.Xb(),n.Yb(5,"fl-bit",3),n.nc("click",function(e){return e.stopPropagation()}),n.Yb(6,"fl-link",4),n.Tb(7,"fl-icon",5),n.Xb(),n.ad(8,je,1,3,"fl-icon",6),n.ad(9,Pe,1,3,"fl-icon",7),n.ad(10,Fe,1,3,"fl-icon",8),n.ad(11,Xe,1,3,"fl-icon",9),n.Xb()),2&e&&(n.Gb(1),n.zc("ngIf",t.isMinimised&&t.unreadCount>0),n.Gb(1),n.zc("ngIf",!t.isCompact),n.Gb(1),n.zc("ngIf",t.isCompact),n.Gb(1),n.zc("ngIf",t.isMinimised&&t.unreadCount>0),n.Gb(2),n.zc("underline",t.LinkUnderline.NEVER),n.Gb(1),n.zc("color",t.isCompact?t.IconColor.LIGHT:t.IconColor.DARK)("size",t.IconSize.SMALL)("hoverColor",t.HoverColor.PRIMARY),n.Gb(1),n.zc("ngIf",null==t.soundSetting?null:t.soundSetting.enabled),n.Gb(1),n.zc("ngIf",!(null!=t.soundSetting&&t.soundSetting.enabled)),n.Gb(1),n.zc("ngIf",t.isCompact&&!t.isMinimised),n.Gb(1),n.zc("ngIf",t.isCompact&&t.isMinimised))},directives:[K.a,D.q,$e.a,Ae.b,U.a,F.d,b.e,_.b],styles:["[_nghost-%COMP%]{font-size:14px;line-height:1.43;align-items:center;background:#fff;box-shadow:0 0 4px 0 rgba(0,0,0,.08),0 2px 4px 0 rgba(0,0,0,.12);color:#0e1724;display:flex;flex:0 0 auto;height:50px;justify-content:space-between;padding:24px 12px;position:relative;width:100%}.IsMinimised[_nghost-%COMP%]{height:30px}.IsCompact[_nghost-%COMP%]{background:#1073cb;border-radius:0 0 0 0;cursor:pointer;height:30px;padding:8px 12px}.Icon[_ngcontent-%COMP%]{cursor:pointer;padding:4px;-webkit-user-select:none;-ms-user-select:none;user-select:none}.DotAlert[_ngcontent-%COMP%]{background-color:#eb3730;border:0;border-radius:6px;display:inline-block;height:10px;width:10px}"],changeDetection:0}),e})();var Ue=i("HLWz"),De=i("Te+H"),Ne=i("7ENy");const Ge=["scrollableContent"];function Be(e,t){if(1&e&&n.Tb(0,"app-notification-item",5),2&e){const e=n.rc().$implicit;n.zc("size","small")("event",e.entry)}}function Ye(e,t){if(1&e&&n.Tb(0,"app-project-item",6),2&e){const e=n.rc().$implicit;n.zc("size","small")("entry",e.entry)}}function He(e,t){if(1&e&&(n.Yb(0,"fl-bit"),n.ad(1,Be,1,2,"app-notification-item",3),n.ad(2,Ye,1,2,"app-project-item",4),n.Xb()),2&e){const e=t.$implicit;n.Gb(1),n.zc("ngIf","notification"===e.tag),n.Gb(1),n.zc("ngIf","project"===e.tag)}}let Ve=(()=>{class e{constructor(e){this.messagingChat=e,this.hasScrolledOnce=!1,this.hasNewContent=!1,this.prevHeight=0}ngOnInit(){this.messagingChat.disableToastNotifications()}ngOnDestroy(){this.messagingChat.enableToastNotifications()}ngOnChanges(e){this.hasNewContent=!0,!e.items||e.items.previousValue&&!this.isAtBottom()||setTimeout(()=>this.scrollToBottom(),0)}ngAfterViewChecked(){const e=this.scrollableContent.getScrollHeight();this.hasNewContent&&e!==this.prevHeight&&(this.hasNewContent=!1,!this.isAtBottom()&&this.hasScrolledOnce||(this.prevHeight=e,requestAnimationFrame(()=>this.scrollToBottom())))}scrollToBottom(){this.scrollableContent.scrollToBottom(),this.hasScrolledOnce=!0}isAtBottom(){return 0===this.itemComponents.length||this.scrollableContent.isAtBottom(this.itemComponents.last.nativeElement.clientHeight)}trackById(e,t){return t.entry.type+String(t.entry.id)}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(h.d))},e.\u0275cmp=n.Mb({type:e,selectors:[["app-ticker"]],viewQuery:function(e,t){if(1&e&&(n.jd(Ge,1),n.jd(K.a,1,n.l)),2&e){let e;n.Mc(e=n.oc())&&(t.scrollableContent=e.first),n.Mc(e=n.oc())&&(t.itemComponents=e)}},inputs:{items:"items"},features:[n.Eb],decls:3,vars:2,consts:[["flTrackingSection","ContactListTicker"],["scrollableContent",""],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"size","event",4,"ngIf"],[3,"size","entry",4,"ngIf"],[3,"size","event"],[3,"size","entry"]],template:function(e,t){1&e&&(n.Yb(0,"fl-scrollable-content",0,1),n.ad(2,He,3,2,"fl-bit",2),n.Xb()),2&e&&(n.Gb(2),n.zc("ngForOf",t.items)("ngForTrackBy",t.trackById))},directives:[Ue.a,$e.a,D.p,K.a,D.q,De.a,Ne.a],styles:["[_nghost-%COMP%]{background-color:#fff;font-size:13px}"],changeDetection:0}),e})();const We=function(e){return{FilterActive:e}};function Qe(e,t){if(1&e){const e=n.Zb();n.Yb(0,"span",6),n.nc("click",function(){return n.Qc(e),n.rc().setFilter("unread")}),n.cc(1,7),n.Xb()}if(2&e){const e=n.rc();n.zc("ngClass",n.Ec(2,We,"unread"===e.activeFilter)),n.Gb(1),n.gc(e.unreadCount),n.dc(1)}}function Ke(e,t){if(1&e){const e=n.Zb();n.Yb(0,"span",8),n.nc("click",function(){return n.Qc(e),n.rc().setFilter("support")}),n.cc(1,9),n.Xb()}if(2&e){const e=n.rc();n.zc("ngClass",n.Ec(1,We,"support"===e.activeFilter))}}let qe=(()=>{class e{constructor(){this.setActiveFilter=new n.n}setFilter(e){this.setActiveFilter.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["app-filter-switch"]],inputs:{activeFilter:"activeFilter",inboxMode:"inboxMode",unreadCount:"unreadCount"},outputs:{setActiveFilter:"setActiveFilter"},decls:6,vars:8,consts:function(){let e,t,i,n;return e=" Active ",t=" Archived ",i=" Unread (" + "\ufffd0\ufffd" + ") ",n=" Support ",[["flTrackingLabel","ActiveThreads","flTrackingSection","ThreadListFilter",1,"FilterItem",3,"ngClass","click"],e,["class","FilterItem","flTrackingLabel","UnreadThreads","flTrackingSection","ThreadListFilter",3,"ngClass","click",4,"ngIf"],["class","FilterItem","flTrackingLabel","SupportThreads","flTrackingSection","ThreadListFilter",3,"ngClass","click",4,"ngIf"],["flTrackingLabel","ArchivedThreads","flTrackingSection","ThreadListFilter",1,"FilterItem",3,"ngClass","click"],t,["flTrackingLabel","UnreadThreads","flTrackingSection","ThreadListFilter",1,"FilterItem",3,"ngClass","click"],i,["flTrackingLabel","SupportThreads","flTrackingSection","ThreadListFilter",1,"FilterItem",3,"ngClass","click"],n]},template:function(e,t){1&e&&(n.Yb(0,"span",0),n.nc("click",function(){return t.setFilter("active")}),n.cc(1,1),n.Xb(),n.ad(2,Qe,2,4,"span",2),n.ad(3,Ke,2,3,"span",3),n.Yb(4,"span",4),n.nc("click",function(){return t.setFilter("archived")}),n.cc(5,5),n.Xb()),2&e&&(n.zc("ngClass",n.Ec(4,We,"active"===t.activeFilter)),n.Gb(2),n.zc("ngIf",t.inboxMode),n.Gb(1),n.zc("ngIf",t.inboxMode),n.Gb(1),n.zc("ngClass",n.Ec(6,We,"archived"===t.activeFilter)))},directives:[U.a,$e.a,D.o,D.q],styles:["[_nghost-%COMP%]{font-size:13px;line-height:1.2;align-items:center;background:#f7f7f7;border-bottom:1px solid #dedede;color:#139ff0;cursor:pointer;display:flex;height:30px;justify-content:space-around;text-transform:uppercase;width:100%}[_nghost-%COMP%]   [_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.FilterActive[_ngcontent-%COMP%]{font-weight:700}.FilterItem[_ngcontent-%COMP%]:hover{text-decoration:underline}"],changeDetection:0}),e})();var Je=i("jASZ"),Ze=i("565b"),et=i("JIr8");function tt(e,t){1&e&&(n.Wb(0),n.cc(1,2),n.Vb())}function it(e,t){1&e&&(n.Wb(0),n.cc(1,3),n.Vb())}function nt(e,t){1&e&&(n.Wb(0),n.cc(1,4),n.Vb())}function st(e,t){1&e&&(n.Wb(0),n.cc(1,5),n.Vb())}const at=function(e){return[e]};function rt(e,t){if(1&e){const e=n.Zb();n.Yb(0,"fl-bit",8),n.nc("click",function(){return n.Qc(e),n.rc(2).handleClick()}),n.Tb(1,"fl-user-avatar",9),n.sc(2,"isOnline"),n.sc(3,"flAsync"),n.Yb(4,"div",10),n.cd(5),n.Xb(),n.Xb()}if(2&e){const e=n.rc(2);n.Ac("flTrackingReferenceId",e.searchUser.id),n.Gb(1),n.zc("users",n.Ec(10,at,e.searchUser))("isOnline",e.searchUser?n.uc(2,5,e.searchUser,n.tc(3,8,e.onlineOfflineStatuses$)):void 0)("flMarginRight",e.Margin.XXXSMALL),n.Gb(4),n.ed(" ",e.searchUser.displayName," ")}}function ct(e,t){if(1&e&&(n.Wb(0),n.Yb(1,"fl-text"),n.cc(2,6),n.Xb(),n.ad(3,rt,6,12,"fl-bit",7),n.Vb()),2&e){const e=n.rc();n.Gb(3),n.zc("ngIf",e.searchUser)}}let ot=(()=>{class e{constructor(){this.Margin=_.a,this.TextSize=b.f,this.FontType=b.b,this.searchStatus="idle",this.userSelected=new n.n,this.showSearchResults=!1}handleClick(){this.searchUser&&this.userSelected.emit(this.searchUser)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["app-user-search-result"]],inputs:{searchUser:"searchUser",onlineOfflineStatuses$:"onlineOfflineStatuses$",searchStatus:"searchStatus",showSearchResults:"showSearchResults"},outputs:{userSelected:"userSelected"},decls:6,vars:6,consts:function(){let e,t,i,n,s;return e=" Press Enter on the search bar to search for users by username. ",t=" Searching... ",i=" Something went wrong while searching for this user. Please try again. ",n=" No user found. ",s=" DIRECT CHAT ",[[1,"StatusMessage",3,"flMarginBottom"],[4,"ngIf"],e,t,i,n,s,["class","MainRow","flTrackingLabel","OpenSearchResult","flTrackingReferenceType","user_id",3,"flTrackingReferenceId","click",4,"ngIf"],["flTrackingLabel","OpenSearchResult","flTrackingReferenceType","user_id",1,"MainRow",3,"flTrackingReferenceId","click"],[3,"users","isOnline","flMarginRight"],["data-uitest-target","contactlist-user-item-title",1,"TextContainer"]]},template:function(e,t){1&e&&(n.Yb(0,"fl-bit",0),n.ad(1,tt,2,0,"ng-container",1),n.ad(2,it,2,0,"ng-container",1),n.ad(3,nt,2,0,"ng-container",1),n.ad(4,st,2,0,"ng-container",1),n.Xb(),n.ad(5,ct,4,1,"ng-container",1)),2&e&&(n.zc("flMarginBottom",t.Margin.XXSMALL),n.Gb(1),n.zc("ngIf","idle"===t.searchStatus),n.Gb(1),n.zc("ngIf","searching"===t.searchStatus),n.Gb(1),n.zc("ngIf","error"===t.searchStatus),n.Gb(1),n.zc("ngIf","empty"===t.searchStatus),n.Gb(1),n.zc("ngIf",t.searchUser&&t.showSearchResults))},directives:[K.a,_.b,D.q,b.e,U.a,q.b],pipes:[ee.a,B.a],styles:["[_nghost-%COMP%]{border-bottom:1px solid #dedede;color:#0e1724;display:block;padding:8px}.MainRow[_ngcontent-%COMP%]{align-items:center;cursor:pointer;display:flex;flex-direction:row;height:48px;padding-right:8px}.StatusMessage[_ngcontent-%COMP%]{font-size:13px;line-height:1.2}.TextContainer[_ngcontent-%COMP%]{font-size:14px;line-height:1.43;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex;flex-direction:column;min-width:0;padding-right:4px}"],changeDetection:0}),e})();function lt(e,t){if(1&e){const e=n.Zb();n.Yb(0,"app-thread-set",2),n.nc("selectThread",function(t){return n.Qc(e),n.rc().handleThreadSelected(t)}),n.sc(1,"flAsync"),n.sc(2,"flAsync"),n.Xb()}if(2&e){const e=n.rc();n.zc("threadSet",n.tc(1,4,e.candidateUserThreadSearch$))("users",n.tc(2,6,e.users$))("grayBackground",e.grayBackground)("onlineOfflineStatuses$",e.onlineOfflineStatuses$)}}const dt=function(e){return{GrayBackground:e}};let ht=(()=>{class e{constructor(e){this.datastore=e,this.showSearchResults=!1,this.grayBackground=!0,this.userSelected=new n.n,this.threadSelected=new n.n,this.searchStatus="idle"}ngOnInit(){const e=this.datastore.collection("users",e=>e.limit(1).where("username","equalsIgnoreCase",this.searchUsernameString$.pipe(Object(k.a)(()=>{this.searchStatus="searching"})))).valueChanges().pipe(Object(et.a)((e,t)=>(this.searchStatus="error",t)),Object(L.a)(1),Object(O.a)());this.userFound$=e.pipe(Object(k.a)(e=>{this.searchStatus=e.length>0?"idle":"empty"}),Object(z.a)(e=>e.length>0),Object(A.a)(),Object(w.a)(!1)),this.searchUser$=e.pipe(Object($.a)(e=>1===e.length),Object(z.a)(([e])=>e)),this.candidateUserThreadSearch$=M.a([]).pipe(Object(z.a)(e=>({title:"Support Session Chats",threads:e,index:Se.SUPPORT}))),this.users$=this.datastore.collection("users",this.candidateUserThreadSearch$.pipe(Object(z.a)(e=>e.threads.map(e=>e.members).reduce((e,t)=>[...e,...t],[])))).valueChanges().pipe(Object(z.a)(e=>{const t={};return e.forEach(e=>t[e.id]=e),t}))}handleSearchUserSelected(e){this.userSelected.emit(e)}handleThreadSelected(e){this.threadSelected.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(Ie.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["app-recruiter-chat-search-result"]],inputs:{searchUsernameString$:"searchUsernameString$",onlineOfflineStatuses$:"onlineOfflineStatuses$",showSearchResults:"showSearchResults",grayBackground:"grayBackground"},outputs:{userSelected:"userSelected",threadSelected:"threadSelected"},decls:6,vars:15,consts:[["flTrackingSection","MessagingRecruiterUserSearch",3,"ngClass","searchUser","searchStatus","showSearchResults","userSelected"],[3,"threadSet","users","grayBackground","onlineOfflineStatuses$","selectThread",4,"ngIf"],[3,"threadSet","users","grayBackground","onlineOfflineStatuses$","selectThread"]],template:function(e,t){if(1&e&&(n.Yb(0,"app-user-search-result",0),n.nc("userSelected",function(e){return t.handleSearchUserSelected(e)}),n.sc(1,"flAsync"),n.sc(2,"flAsync"),n.Xb(),n.ad(3,lt,3,8,"app-thread-set",1),n.sc(4,"flAsync"),n.sc(5,"flAsync")),2&e){let e=null;n.zc("ngClass",n.Ec(13,dt,t.grayBackground))("searchUser",n.tc(1,5,t.searchUser$))("searchStatus",t.searchStatus)("showSearchResults",t.showSearchResults&&n.tc(2,7,t.userFound$)),n.Gb(3),n.zc("ngIf",t.showSearchResults&&n.tc(4,9,t.userFound$)&&(null==(e=n.tc(5,11,t.candidateUserThreadSearch$))?null:e.threads.length)>0)}},directives:[ot,$e.a,D.o,D.q,Ce],pipes:[B.a],styles:["[_nghost-%COMP%]{border-bottom:1px solid #dedede;color:#f7f7f7;display:block;flex:none;overflow-y:hidden;width:100%}.GrayBackground[_ngcontent-%COMP%]{background:#f0f0f0}"],changeDetection:0}),e})();function gt(e,t){1&e&&n.Tb(0,"fl-spinner",8),2&e&&n.zc("overlay",!0)}const ft=function(e){return{GrayBackground:e}};function bt(e,t){if(1&e){const e=n.Zb();n.Yb(0,"app-recruiter-chat-search-result",9),n.nc("userSelected",function(t){return n.Qc(e),n.rc().handleSearchUserSelected(t)})("threadSelected",function(t){return n.Qc(e),n.rc().handleThreadSelected(t)}),n.Xb()}if(2&e){const e=n.rc();n.zc("ngClass",n.Ec(5,ft,e.grayBackground))("grayBackground",e.grayBackground)("showSearchResults",e.showRecruiterSearchResults)("searchUsernameString$",e.recruiterUserSearchUsername$)("onlineOfflineStatuses$",e.onlineOfflineStatuses$)}}function ut(e,t){if(1&e){const e=n.Zb();n.Yb(0,"app-thread-set",11),n.nc("selectThread",function(t){return n.Qc(e),n.rc(2).handleThreadSelected(t)}),n.Xb()}if(2&e){const e=t.$implicit,i=n.rc(2);n.zc("grayBackground",i.grayBackground)("contests",i.contests)("projects",i.projects)("threadSet",e)("users",i.users)("onlineOfflineStatuses$",i.onlineOfflineStatuses$)("selectedThreadId",i.selectedThreadId)("inboxMode",i.inboxMode)}}function pt(e,t){if(1&e&&(n.Wb(0),n.ad(1,ut,1,8,"app-thread-set",10),n.Vb()),2&e){const e=n.rc();n.Gb(1),n.zc("ngForOf",e.threadSets)("ngForTrackBy",e.identifyThreadSet)}}function mt(e,t){if(1&e&&(n.Yb(0,"fl-bit",12),n.Yb(1,"fl-text",13),n.cc(2,14),n.Xb(),n.Xb()),2&e){const e=n.rc();n.Gb(1),n.zc("size",e.TextSize.XXSMALL)}}function Tt(e,t){if(1&e){const e=n.Zb();n.Yb(0,"fl-link",15),n.nc("click",function(){return n.Qc(e),n.rc().handleLoadThreads()}),n.cc(1,16),n.Xb()}if(2&e){const e=n.rc();n.zc("flMarginBottom",e.Margin.XXSMALL)}}function St(e,t){if(1&e&&n.Tb(0,"fl-spinner",17),2&e){const e=n.rc();n.zc("size",e.SpinnerSize.SMALL)}}let Mt=(()=>{class e{constructor(){this.TextSize=b.f,this.Margin=_.a,this.SpinnerSize=Je.d,this.grayBackground=!1,this.showLoadingSpinner=!1,this.showLoadingMoreSpinner=!1,this.isRecruiter=!1,this.showRecruiterSearchResults=!1,this.searchUserSelected=new n.n,this.selectThread=new n.n,this.loadMoreThreads=new n.n}ngOnChanges(){this.threadSets&&(this.setsHaveThreads=!!this.threadSets.find(e=>e.threads.length>0))}handleThreadSelected(e){this.selectThread.emit(e)}identifyThreadSet(e,t){return t.title}handleLoadThreads(){this.loadMoreThreads.emit()}handleSearchUserSelected(e){this.searchUserSelected.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["app-thread-list"]],hostVars:2,hostBindings:function(e,t){2&e&&n.Kb("IsCompact",t.isCompact)},inputs:{isCompact:"isCompact",grayBackground:"grayBackground",showLoadingSpinner:"showLoadingSpinner",searchUser:"searchUser",searchStatus:"searchStatus",threadSets:"threadSets",users:"users",onlineOfflineStatuses$:"onlineOfflineStatuses$",projects:"projects",contests:"contests",canLoadMore:"canLoadMore",showLoadingMoreSpinner:"showLoadingMoreSpinner",isRecruiter:"isRecruiter",showRecruiterSearchResults:"showRecruiterSearchResults",recruiterUserSearchUsername$:"recruiterUserSearchUsername$",inboxMode:"inboxMode",selectedThreadId:"selectedThreadId"},outputs:{searchUserSelected:"searchUserSelected",selectThread:"selectThread",loadMoreThreads:"loadMoreThreads"},features:[n.Eb],decls:8,vars:6,consts:function(){let e,t;return e=" No messages yet. ",t=" Load more... ",[["flTrackingLabel","MessagingThreadListInitialisationSpinner",3,"overlay",4,"ngIf"],[1,"ThreadListContent"],[3,"ngClass","grayBackground","showSearchResults","searchUsernameString$","onlineOfflineStatuses$","userSelected","threadSelected",4,"ngIf"],[4,"ngIf"],["class","EmptyThreadSet",4,"ngIf"],[1,"ThreadsLoad"],["flTrackingLabel","LoadMoreThreads","flTrackingSection","ThreadList",3,"flMarginBottom","click",4,"ngIf"],["flTrackingLabel","MessagingThreadListLoadMoreSpinner",3,"size",4,"ngIf"],["flTrackingLabel","MessagingThreadListInitialisationSpinner",3,"overlay"],[3,"ngClass","grayBackground","showSearchResults","searchUsernameString$","onlineOfflineStatuses$","userSelected","threadSelected"],["flTrackingSection","contact-list-thread-set","data-uitest-target","contactlist-thread-item",3,"grayBackground","contests","projects","threadSet","users","onlineOfflineStatuses$","selectedThreadId","inboxMode","selectThread",4,"ngFor","ngForOf","ngForTrackBy"],["flTrackingSection","contact-list-thread-set","data-uitest-target","contactlist-thread-item",3,"grayBackground","contests","projects","threadSet","users","onlineOfflineStatuses$","selectedThreadId","inboxMode","selectThread"],[1,"EmptyThreadSet"],[3,"size"],e,["flTrackingLabel","LoadMoreThreads","flTrackingSection","ThreadList",3,"flMarginBottom","click"],t,["flTrackingLabel","MessagingThreadListLoadMoreSpinner",3,"size"]]},template:function(e,t){1&e&&(n.ad(0,gt,1,1,"fl-spinner",0),n.Yb(1,"fl-bit",1),n.ad(2,bt,1,7,"app-recruiter-chat-search-result",2),n.ad(3,pt,2,2,"ng-container",3),n.ad(4,mt,3,1,"fl-bit",4),n.Yb(5,"fl-bit",5),n.ad(6,Tt,2,1,"fl-link",6),n.ad(7,St,1,1,"fl-spinner",7),n.Xb(),n.Xb()),2&e&&(n.zc("ngIf",t.showLoadingSpinner),n.Gb(2),n.zc("ngIf",t.isRecruiter),n.Gb(1),n.zc("ngIf",t.projects&&t.contests&&t.users&&t.threadSets),n.Gb(1),n.zc("ngIf",!t.setsHaveThreads),n.Gb(2),n.zc("ngIf",!t.showLoadingMoreSpinner&&t.canLoadMore&&t.setsHaveThreads),n.Gb(1),n.zc("ngIf",t.showLoadingMoreSpinner))},directives:[D.q,K.a,Je.c,Ze.a,U.a,ht,D.o,D.p,Ce,$e.a,b.e,Ae.b,_.b],styles:["[_nghost-%COMP%]{background:#f0f0f0;color:#f7f7f7;overflow-y:hidden;position:relative;width:100%}.IsCompact[_nghost-%COMP%]{background:#fff}@media (min-width:768px){.ThreadListContent[_ngcontent-%COMP%]{bottom:0;left:0;position:absolute;right:0;top:0;flex:1 0 100%;overflow-y:auto}}.ThreadsLoad[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;padding-top:16px}.InboxMode[_ngcontent-%COMP%]{background:#f0f0f0}.EmptyThreadSet[_ngcontent-%COMP%]{padding-left:8px;padding-top:16px}"],changeDetection:0}),e})();var Ct=i("Krui");function yt(e,t){if(1&e){const e=n.Zb();n.Yb(0,"app-header",10),n.nc("minimise",function(){return n.Qc(e),n.rc().toggleMinimise()})("setChatSoundSetting",function(t){return n.Qc(e),n.rc().setChatSoundSetting(t)}),n.sc(1,"flAsync"),n.sc(2,"flAsync"),n.Xb()}if(2&e){const e=n.rc();n.zc("soundSetting",n.tc(1,4,e.chatSoundSetting$))("isMinimised",e.isMinimised&&e.isCompact)("isCompact",e.isCompact)("unreadCount",n.tc(2,6,e.unreadCount$))}}function It(e,t){if(1&e&&(n.Tb(0,"app-ticker",11),n.sc(1,"flAsync")),2&e){const e=n.rc();n.zc("items",n.tc(1,1,e.tickerItem$))}}function xt(e,t){1&e&&n.Ub(0)}function Lt(e,t){1&e&&n.Ub(0)}function Ot(e,t){if(1&e){const e=n.Zb();n.Yb(0,"app-search",14),n.nc("threadSearchSelected",function(){return n.Qc(e),n.rc(2).handleThreadSearchSelected()}),n.sc(1,"flAsync"),n.sc(2,"flAsync"),n.Xb()}if(2&e){const e=n.rc(2);n.zc("threadSearchEnabled",e.inboxMode)("inputControl",e.searchFormControl)("searchMode",n.tc(1,4,e.threadSearchMode$))("showThreadSearchOption",n.tc(2,6,e.showThreadSearchOption$))}}const zt=function(e){return{InboxList:e}};function wt(e,t){if(1&e){const e=n.Zb();n.Yb(0,"app-filter-switch",15),n.nc("setActiveFilter",function(t){return n.Qc(e),n.rc(2).handleFilterSwitched(t)}),n.sc(1,"flAsync"),n.sc(2,"flAsync"),n.Xb()}if(2&e){const e=n.rc(2);n.zc("ngClass",n.Ec(8,zt,e.inboxMode))("inboxMode",e.inboxMode)("unreadCount",n.tc(1,4,e.unreadCount$))("activeFilter",n.tc(2,6,e.activeFilter$))}}function At(e,t){if(1&e&&(n.ad(0,Ot,3,8,"app-search",12),n.ad(1,wt,3,10,"app-filter-switch",13),n.sc(2,"flAsync")),2&e){const e=n.rc();n.zc("ngIf",e.inboxMode),n.Gb(1),n.zc("ngIf",n.tc(2,2,e.showFilterSwitch$))}}function $t(e,t){if(1&e){const e=n.Zb();n.Yb(0,"app-thread-list",16),n.nc("selectThread",function(t){return n.Qc(e),n.rc().handleThreadSelected(t)})("searchUserSelected",function(t){return n.Qc(e),n.rc().handleSearchUserSelected(t)})("loadMoreThreads",function(){return n.Qc(e),n.rc().handleLoadThreads()}),n.sc(1,"flAsync"),n.sc(2,"flAsync"),n.sc(3,"flAsync"),n.sc(4,"flAsync"),n.sc(5,"flAsync"),n.sc(6,"flAsync"),n.sc(7,"flAsync"),n.Xb()}if(2&e){const e=n.rc();n.zc("ngClass",n.Ec(30,zt,e.inboxMode))("isRecruiter",e.isRecruiter())("showLoadingSpinner",n.tc(1,16,e.showThreadListSpinner$))("showLoadingMoreSpinner",e.showLoadingMoreSpinner)("isCompact",e.isCompact)("grayBackground",!e.inboxMode&&!e.isCompact)("threadSets",n.tc(2,18,e.threadSets$))("users",n.tc(3,20,e.users$))("projects",n.tc(4,22,e.projects$))("contests",n.tc(5,24,e.contests$))("onlineOfflineStatuses$",e.onlineOfflineStatuses$)("recruiterUserSearchUsername$",e.recruiterUserSearchUsername$)("showRecruiterSearchResults",n.tc(6,26,e.recruiterSearchModeActive$))("canLoadMore",n.tc(7,28,e.canLoadMore$))("selectedThreadId",e.selectedThreadId)("inboxMode",e.inboxMode)}}function Et(e,t){if(1&e&&(n.Yb(0,"fl-bit",17),n.Tb(1,"fl-picture",18),n.Yb(2,"fl-text",19),n.cc(3,20),n.Xb(),n.Xb()),2&e){const e=n.rc();n.Gb(1),n.zc("src","messaging/magnifying-glass.svg"),n.Gb(1),n.zc("size",e.TextSize.SMALL)("color",e.FontColor.MID)}}function vt(e,t){if(1&e){const e=n.Zb();n.Yb(0,"app-search",21),n.nc("keyEnter",function(){return n.Qc(e),n.rc().handleSearchKeyEnter()}),n.Xb()}if(2&e){const e=n.rc();n.zc("threadSearchEnabled",e.inboxMode)("inputControl",e.searchFormControl)}}let kt=(()=>{class e{constructor(e,t,i,a,r,c,o,l,h){this.auth=e,this.changeDetectorRef=t,this.datastore=i,this.modalService=a,this.router=r,this.timeUtils=c,this.videochat=o,this.webSocketService=l,this.messagingChat=h,this.FontColor=f.a,this.TextSize=b.f,this.inboxMode=!1,this.makingCall=new n.n,this.minimise=new n.n,this.isCompact=!1,this.isMinimised=!1,this.isHidden=!this.inboxMode,this.isInboxMode$=M.a(!1),this.isNewInboxShown$=M.a(!1),this.userId$=this.auth.getUserId(),this.activeFilterSubject$=new C.a("active"),this.searchFormControl=new s.f,this.threadSearchSelectedSubject$=new C.a(!1),this.threadSearchSelected$=this.threadSearchSelectedSubject$.asObservable().pipe(Object(L.a)(1),Object(O.a)()),this.searchKeyEnterSubject$=new y.a,this.searchKeyEnter$=this.searchKeyEnterSubject$.asObservable().pipe(Object(L.a)(1),Object(O.a)()),this.searchStatus="idle",this.autoOpenedThreads={},this.defaultThreadLimit=S.a,this.limitIncreaseStep=100,this.maxLimit=5e3,this.currentThreadsLimit=this.defaultThreadLimit,this.currentUnreadThreadsLimit=this.defaultThreadLimit,this.threadsLimitSubject$=new C.a(this.currentThreadsLimit),this.unreadThreadsLimitSubject$=new C.a(this.currentUnreadThreadsLimit),this.showLoadingMoreSpinner=!1,this.notificationSettingsCollection=this.datastore.collection("notificationsPreferences"),this.notifications$=I.a([this.datastore.collection("notifications",e=>e.limit(100)).valueChanges().pipe(Object(z.a)(e=>e.filter(d.b))),this.userId$]).pipe(Object(z.a)(([e,t])=>e.filter(e=>!("userId"in e.data&&Object(u.r)(e.data.userId)===Object(u.r)(t)))),Object(z.a)(e=>e.map(e=>({entry:e,tag:"notification",time:e.time})))),this.jobIdsToNotify$=this.notificationSettingsCollection.valueChanges().pipe(Object(z.a)(e=>e.filter(e=>e.enabled&&e.channel.startsWith("job_")&&"live"===e.notificationType).map(e=>{const t=e.channel.split("_");if(t.length>=2)return Object(u.r)(t[1])}).filter(u.g))),this.failingProjectsCollection=this.datastore.collection("projectFeedFailingProjects",e=>e.where("jobIds","intersects",this.jobIdsToNotify$).limit(100)),this.failingContestsCollection=this.datastore.collection("projectFeedFailingContests",e=>e.where("jobIds","intersects",this.jobIdsToNotify$).limit(100)),this.projectFeed$=I.a([this.datastore.collection("projectFeed",e=>e.where("jobIds","intersects",this.jobIdsToNotify$).limit(100)).valueChanges(),this.failingProjectsCollection.valueChanges(),this.failingContestsCollection.valueChanges()]).pipe(Object(z.a)(([e,t,i])=>[...e,...t,...i].map(e=>({entry:e,tag:"project",time:e.time})))),this.tickerItem$=I.a([this.notifications$,this.projectFeed$]).pipe(Object(z.a)(([e,t])=>[...e,...t].sort((e,t)=>e.time-t.time).slice(-100)),Object(L.a)(1),Object(O.a)()),this.chatSoundSetting$=this.notificationSettingsCollection.valueChanges().pipe(Object(z.a)(e=>{const t=e.filter(e=>"messages"===e.notificationType&&"chat_sound"===e.channel);return t.length>0?t[0]:void 0}))}ngOnInit(){this.messagingChat.cleanStoredDraftMessages(),this.searchText$=this.searchFormControl.valueChanges.pipe(Object(w.a)(""),Object(L.a)(1),Object(O.a)(),Object(A.a)()),this.threadSearchMode$=x.a(this.threadSearchSelected$.pipe(Object(z.a)(e=>e?V.THREAD:V.USER)),this.searchFormControl.valueChanges.pipe(Object($.a)(e=>""===e.trim()),Object(E.a)(V.USER))).pipe(Object(L.a)(1),Object(O.a)()),this.showThreadSearchOption$=I.a([this.threadSearchMode$,this.searchFormControl.valueChanges.pipe(Object(w.a)(""),Object(v.a)(250))]).pipe(Object(z.a)(([e,t])=>e===V.USER&&""!==t.trim()),Object(w.a)(!1));const e=I.a([this.searchText$,this.threadSearchMode$]).pipe(Object(z.a)(([e,t])=>{if(t!==V.USER&&""!==e.trim())return e.trim()}),Object($.a)(u.g),Object(z.a)(e=>({searchTerm:e})));this.searchThreads$=this.datastore.collection("searchThreads",t=>t.search(e.pipe(Object(v.a)(500))).limit(100)).valueChanges().pipe(Object(r.a)()),this.showThreadListSpinner$=x.a(e.pipe(Object(E.a)(!0)),this.searchThreads$.pipe(Object(E.a)(!1))).pipe(Object(A.a)(),Object(w.a)(!1),Object(L.a)(1),Object(O.a)()),this.showEmptySearchResult$=I.a([this.threadSearchMode$,this.showThreadListSpinner$,this.searchThreads$]).pipe(Object(z.a)(([e,t,i])=>e===V.THREAD&&!t&&0===i.length),Object(w.a)(!1),Object(L.a)(1),Object(O.a)()),this.recruiterUserSearchUsername$=this.searchKeyEnter$.pipe(Object($.a)(()=>this.isRecruiter()),Object(z.a)(()=>this.searchFormControl.value),Object($.a)(e=>void 0!==e&&""!==e)),this.resetRecruiterSearch$=this.searchText$.pipe(Object(A.a)(),Object(E.a)(!0)),this.recruiterSearchModeActive$=x.a(this.searchKeyEnter$.pipe(Object(E.a)(!0)),this.searchText$.pipe(Object(E.a)(!1))).pipe(Object(A.a)(),Object(L.a)(1),Object(O.a)()),this.activeFilter$=this.activeFilterSubject$.asObservable().pipe(Object(A.a)()),this.threads$=this.datastore.collection("threads",e=>e.limit(this.threadsLimitSubject$.pipe(Object(k.a)(()=>this.showLoadingMoreSpinner=!0)))).valueChanges().pipe(Object(k.a)(()=>this.showLoadingMoreSpinner=!1)),this.inboxMode?(this.unreadThreads$=this.datastore.collection("threads",e=>e.where("isRead","==",!1).limit(this.unreadThreadsLimitSubject$.pipe(Object(k.a)(()=>this.showLoadingMoreSpinner=!0)))).valueChanges().pipe(Object(k.a)(()=>this.showLoadingMoreSpinner=!1)),this.allThreads$=I.a([this.threads$,this.unreadThreads$]).pipe(Object(z.a)(([e,t])=>Object(c.o)([...e,...t],(e,t)=>e.id===t.id)))):(this.unreadThreads$=M.a([]),this.allThreads$=this.threads$),this.unreadCount$=this.allThreads$.pipe(Object(z.a)(e=>e.map(e=>e.messageUnreadCount).reduce((e,t)=>e+t,0))),this.threadSubscription=this.allThreads$.subscribe(e=>{const t=this.isHidden;this.isHidden=!(this.inboxMode||e&&0!==e.length),this.isHidden!==t&&this.changeDetectorRef.markForCheck()}),this.sortedThreads$=I.a([this.activeFilterSubject$,this.threads$,this.unreadThreads$]).pipe(Object(z.a)(([e,t,i])=>"unread"===e?i:t),Object(z.a)(e=>[...e].sort((e,t)=>t.timeUpdated-e.timeUpdated)),Object(L.a)(1),Object(O.a)()),this.emptyThreadNavigateSubscription=I.a([this.messagingChat.getInboxViewState(),this.router.events.pipe(Object($.a)(e=>e instanceof a.b),Object(E.a)(!0),Object(w.a)(!0)),this.sortedThreads$]).subscribe(([e,t,i])=>{if(e===h.c.PAGE)return;const n=this.router.parseUrl(this.router.url),s=n.root.children[a.d];if(i.length>0&&s&&1===s.segments.length&&"messages"===s.segments[0].path){const e=n.fragment&&n.fragment.includes("thread/")?n.fragment.split("thread/")[1]:i[0].id;this.router.navigate([`/messages/thread/${e}`],{queryParams:{},replaceUrl:!0})}});const t=I.a([this.allThreads$,this.searchThreads$]).pipe(Object(z.a)(([e,t])=>[...e,...t].map(e=>e.members).reduce((e,t)=>[...e,...t],[])),Object(z.a)(e=>Array.from(new Set(e))));this.users$=this.datastore.collection("users",t).valueChanges().pipe(Object(r.a)(),Object(o.a)(),Object(L.a)(1),Object(O.a)()),this.onlineOfflineStatuses$=this.datastore.collection("onlineOffline",t).valueChanges();const i=I.a([this.allThreads$,this.searchThreads$]).pipe(Object(z.a)(([e,t])=>Object(T.g)([...e,...t],m.ContextTypeApi.PROJECT)));this.projects$=this.datastore.collection("threadProjects",i).valueChanges().pipe(Object(z.a)(e=>e.reduce((e,t)=>Object.assign(Object.assign({},e),{[t.id]:t}),{})),Object(w.a)({}),Object(L.a)(1),Object(O.a)());const n=I.a([this.allThreads$,this.searchThreads$]).pipe(Object(z.a)(([e,t])=>Object(T.g)([...e,...t],m.ContextTypeApi.CONTEST)));this.contests$=this.datastore.collection("contests",n).valueChanges().pipe(Object(z.a)(e=>e.reduce((e,t)=>Object.assign(Object.assign({},e),{[t.id]:t}),{})),Object(w.a)({}),Object(L.a)(1),Object(O.a)()),this.showFilterSwitch$=this.threadSearchMode$.pipe(Object(z.a)(e=>e!==V.THREAD),Object(A.a)(),Object(w.a)(!0),Object(L.a)(1),Object(O.a)()),this.teams$=this.datastore.collection("teams",e=>e.where("members","includes",this.userId$.pipe(Object(z.a)(e=>Object(u.r)(e))))).valueChanges().pipe(Object(o.a)(),Object(w.a)({})),this.threadSets$=Object(l.a)([this.sortedThreads$,this.searchText$,this.activeFilterSubject$,this.users$,this.contests$,this.projects$,this.searchThreads$,this.threadSearchMode$,this.teams$]).pipe(Object(z.a)(([e,t,i,n,s,a,r,c,o])=>{const l={[Te.SEARCH]:{title:"Search Results",threads:[],index:Se.SEARCH},[Te.ACTIVE]:{title:void 0,threads:[],index:Se.ACTIVE},[Te.OTHER]:{title:"Other chats",threads:[],index:Se.OTHER}},d=Object.values(o).reduce((e,t)=>Object.assign(Object.assign({},e),{[`team_${t.id.toString()}`]:{title:t.name,threads:[],index:Se.TEAMS}}),l);return c===V.THREAD&&""!==t.trim()?d[Te.SEARCH].threads=[...r]:e.filter(e=>{switch(i){case"active":return"archived"!==e.folder;case"unread":return!e.isRead;case"support":return"archived"!==e.folder&&"admin_preferred_chat"===e.threadType&&"support_session"===e.context.type;case"archived":return"archived"===e.folder;default:return Object(u.a)(i)}}).filter(e=>this.isSearchMatch(e,t,n)).forEach(e=>{const t=Te.ACTIVE;d[t].threads=[...d[t].threads,e]}),Object.values(d).sort((e,t)=>e.index-t.index)}),Object(L.a)(1),Object(O.a)()),this.canLoadMore$=I.a([this.sortedThreads$,this.threadSearchMode$,this.activeFilterSubject$]).pipe(Object(z.a)(([e,t,i])=>t===V.USER&&("unread"===i?this.currentUnreadThreadsLimit<this.maxLimit&&e.length>=this.currentUnreadThreadsLimit:this.currentThreadsLimit<this.maxLimit&&e.length>=this.currentThreadsLimit)));const s=Object(P.a)(this.webSocketService,this.auth.authState$,this.inCall$.pipe(Object(A.a)()));this.callAlertSubscription=I.a([s,this.isNewInboxShown$,this.isInboxMode$]).subscribe(([e,t,i])=>{i&&t||void 0!==e&&(e.type!==p.a.NONE?this.popCallAlertModal(e):(this.makingCall.next(!!e.makingCall),this.modalService.close()))}),this.startChatSubscription=I.a([this.allThreads$.pipe(Object(R.a)(this.timeUtils.rxTimer(3e4))),M.a(Date.now())]).subscribe(([e,t])=>e.map(e=>{!this.autoOpenedThreads[e.id]&&e.messageUnreadCount>0&&e.message&&t-e.message.timeCreated<3e4&&(this.autoOpenedThreads[e.id]=!0,this.messagingChat.startChat({userIds:e.members,threadType:e.threadType,origin:"contactList",context:e.context,threadId:e.id,focus:!1,doNotRedirect:!0}))}))}ngOnDestroy(){this.threadSubscription&&this.threadSubscription.unsubscribe(),this.callAlertSubscription&&this.callAlertSubscription.unsubscribe(),this.emptyThreadNavigateSubscription&&this.emptyThreadNavigateSubscription.unsubscribe(),this.startChatSubscription&&this.startChatSubscription.unsubscribe()}toggleMinimise(){this.minimise.emit(!this.isMinimised)}setChatSoundSetting({setting:e,enabled:t}){this.notificationSettingsCollection.set("chat_sound",Object.assign(Object.assign({},e),{enabled:t}))}handleSearchKeyEnter(){this.searchKeyEnterSubject$.next(!0)}handleThreadSelected(e){this.inboxMode?this.router.navigate([`/messages/thread/${e.id}`],{queryParams:{}}):this.messagingChat.startChat({userIds:e.members,threadType:e.threadType,origin:"ng-contact-list",context:e.context,threadId:e.id,focus:!0})}handleThreadSearchSelected(){this.threadSearchSelectedSubject$.next(!0)}isRecruiter(){return Object(T.f)(this.currentUser)}handleSearchUserSelected(e){this.messagingChat.startChat({userIds:[e.id],threadType:m.ThreadTypeApi.ADMIN_PREFERRED_CHAT,origin:"ng-contact-list-user-search",context:{type:m.ContextTypeApi.SUPPORT_CHAT,id:e.id}})}handleFilterSwitched(e){this.activeFilterSubject$.next(e)}isSearchMatch(e,t,i){return this.getUsersForSearch(e,i).toLowerCase().includes(t.toLowerCase())}getUsersForSearch(e,t){return e.otherMembers.filter(e=>Boolean(e&&t[e])).map(e=>[t[e].displayName,t[e].username].join(", ")).join(", ")}popCallAlertModal(e){this.modalService.open("CallAlertModal",{inputs:{otherUserIds:e.otherMembers,callType:e.type,threadId:e.threadId,recorded:e.recorded},size:g.a.SMALL}).afterClosed().pipe(Object(j.a)(this.inCall$)).toPromise().then(([t,i])=>{i||(t?(this.videochat.openCallWindow({action:e.type,threadId:e.threadId,accepting:!0}),this.videochat.notifyAction("accept",e.threadId)):this.videochat.notifyAction("reject",e.threadId))})}handleLoadThreads(){"unread"===this.activeFilterSubject$.getValue()?(this.currentUnreadThreadsLimit=Math.min(this.currentUnreadThreadsLimit+this.limitIncreaseStep,this.maxLimit),this.unreadThreadsLimitSubject$.next(this.currentUnreadThreadsLimit)):(this.currentThreadsLimit=Math.min(this.currentThreadsLimit+this.limitIncreaseStep,this.maxLimit),this.threadsLimitSubject$.next(this.currentThreadsLimit))}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(ye.a),n.Sb(n.h),n.Sb(Ie.a),n.Sb(Le.b),n.Sb(a.e),n.Sb(Oe.a),n.Sb(p.b),n.Sb(xe.a),n.Sb(h.d))},e.\u0275cmp=n.Mb({type:e,selectors:[["app-messaging-contacts"]],hostVars:8,hostBindings:function(e,t){2&e&&n.Kb("IsInbox",t.inboxMode)("IsCompact",t.isCompact)("IsMinimised",t.isMinimised)("IsHidden",t.isHidden)},inputs:{currentUser:"currentUser",inCall$:"inCall$",inboxMode:"inboxMode",isCompact:"isCompact",isMinimised:"isMinimised",selectedThreadId:"selectedThreadId",isInboxMode$:"isInboxMode$",isNewInboxShown$:"isNewInboxShown$"},outputs:{makingCall:"makingCall",minimise:"minimise"},decls:15,vars:16,consts:function(){let e,t;return e="No messages found",t=" No conversations matched your search ",[[3,"soundSetting","isMinimised","isCompact","unreadCount","minimise","setChatSoundSetting",4,"ngIf"],["class","Ticker",3,"items",4,"ngIf"],[3,"flShowMobile"],[3,"flSticky"],[4,"ngTemplateOutlet"],[3,"flHideMobile"],["searchFilter",""],["class","ThreadList",3,"ngClass","isRecruiter","showLoadingSpinner","showLoadingMoreSpinner","isCompact","grayBackground","threadSets","users","projects","contests","onlineOfflineStatuses$","recruiterUserSearchUsername$","showRecruiterSearchResults","canLoadMore","selectedThreadId","inboxMode","selectThread","searchUserSelected","loadMoreThreads",4,"ngIf"],["class","SearchEmpty",4,"ngIf"],["class","SearchBar","flTrackingSection","contact-list-search",3,"threadSearchEnabled","inputControl","keyEnter",4,"ngIf"],[3,"soundSetting","isMinimised","isCompact","unreadCount","minimise","setChatSoundSetting"],[1,"Ticker",3,"items"],["class","SearchBar","flTrackingSection","contact-list-search",3,"threadSearchEnabled","inputControl","searchMode","showThreadSearchOption","threadSearchSelected",4,"ngIf"],["class","FilterSwitch","data-uitest-target","contactlist-filter-switch",3,"ngClass","inboxMode","unreadCount","activeFilter","setActiveFilter",4,"ngIf"],["flTrackingSection","contact-list-search",1,"SearchBar",3,"threadSearchEnabled","inputControl","searchMode","showThreadSearchOption","threadSearchSelected"],["data-uitest-target","contactlist-filter-switch",1,"FilterSwitch",3,"ngClass","inboxMode","unreadCount","activeFilter","setActiveFilter"],[1,"ThreadList",3,"ngClass","isRecruiter","showLoadingSpinner","showLoadingMoreSpinner","isCompact","grayBackground","threadSets","users","projects","contests","onlineOfflineStatuses$","recruiterUserSearchUsername$","showRecruiterSearchResults","canLoadMore","selectedThreadId","inboxMode","selectThread","searchUserSelected","loadMoreThreads"],[1,"SearchEmpty"],["alt",e,3,"src"],[3,"size","color"],t,["flTrackingSection","contact-list-search",1,"SearchBar",3,"threadSearchEnabled","inputControl","keyEnter"]]},template:function(e,t){if(1&e&&(n.ad(0,yt,3,8,"app-header",0),n.ad(1,It,2,3,"app-ticker",1),n.sc(2,"flAsync"),n.Yb(3,"fl-bit",2),n.Yb(4,"fl-bit",3),n.ad(5,xt,1,0,"ng-container",4),n.Xb(),n.Xb(),n.Yb(6,"fl-bit",5),n.ad(7,Lt,1,0,"ng-container",4),n.Xb(),n.ad(8,At,3,4,"ng-template",null,6,n.bd),n.ad(10,$t,8,32,"app-thread-list",7),n.sc(11,"flAsync"),n.ad(12,Et,4,3,"fl-bit",8),n.sc(13,"flAsync"),n.ad(14,vt,1,2,"app-search",9)),2&e){const e=n.Nc(9);n.zc("ngIf",!t.inboxMode),n.Gb(1),n.zc("ngIf",!t.isHidden&&!t.inboxMode&&!1===t.isCompact&&n.tc(2,10,t.tickerItem$)),n.Gb(2),n.zc("flShowMobile",!0),n.Gb(1),n.zc("flSticky",!0),n.Gb(1),n.zc("ngTemplateOutlet",e),n.Gb(1),n.zc("flHideMobile",!0),n.Gb(1),n.zc("ngTemplateOutlet",e),n.Gb(3),n.zc("ngIf",!1===n.tc(11,12,t.showEmptySearchResult$)),n.Gb(2),n.zc("ngIf",n.tc(13,14,t.showEmptySearchResult$)),n.Gb(2),n.zc("ngIf",!t.inboxMode)}},directives:[D.q,K.a,ze.a,we.b,D.v,_e,Ve,W,$e.a,qe,D.o,Mt,Ct.a,b.e],pipes:[B.a],styles:["[_nghost-%COMP%]{border-left:1px solid #dedede;bottom:0;display:flex;flex-direction:column;height:100vh;overflow:hidden;pointer-events:auto;width:210px}.IsCompact[_nghost-%COMP%]{background:#fff;border-left:none;border-radius:0 0 0 0;height:350px}.IsCompact.IsMinimised[_nghost-%COMP%]{height:30px}.IsHidden[_nghost-%COMP%]{display:none}.IsInbox[_nghost-%COMP%]{box-shadow:0 0 0 1px #dedede}.IsDrawer[_nghost-%COMP%]{width:100%}.FilterSwitch[_ngcontent-%COMP%]{flex:0 0 auto;padding:8px}.ThreadList[_ngcontent-%COMP%]{flex:0 1 100%}.InboxList[_ngcontent-%COMP%]{background:#fff}.SearchBar[_ngcontent-%COMP%]{display:block;flex:0 0 auto;justify-content:center}.SearchEmpty[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center;width:100%}.Ticker[_ngcontent-%COMP%]{flex:0 0 30%;overflow-y:auto}"],changeDetection:0}),e})()},qSur:function(e,t,i){"use strict";i.d(t,"a",function(){return I}),i.d(t,"b",function(){return x});var n=i("mrSG"),s=i("iInd"),a=i("yeKy"),r=i("jtHE"),c=i("2Vo4"),o=i("itXk"),l=i("GyhO"),d=i("lJxs"),h=i("eIep"),g=i("IzEk"),f=i("/uUt"),b=i("8Y7J"),u=i("eCtd"),p=i("/wLE"),m=i("L1P6"),T=i("JPhM");function S(e,t){if(1&e){const e=b.Zb();b.Yb(0,"app-messaging-contacts",4),b.nc("makingCall",function(t){return b.Qc(e),b.rc(3).setInCall(t)})("minimise",function(t){return b.Qc(e),b.rc(3).setMinimise(t)}),b.sc(1,"flAsync"),b.sc(2,"flAsync"),b.sc(3,"flAsync"),b.Xb()}if(2&e){const e=b.rc(3);b.zc("currentUser",b.tc(1,4,e.currentUserDoc.valueChanges()))("inCall$",e.inCall$)("isCompact",b.tc(2,6,e.chatViewState$)===e.ChatViewState.COMPACT)("isMinimised",b.tc(3,8,e.isMinimised$))}}function M(e,t){if(1&e){const e=b.Zb();b.Yb(0,"app-messaging-inbox-widget",5),b.nc("makingCall",function(t){return b.Qc(e),b.rc(3).setInCall(t)}),b.Xb()}if(2&e){const e=b.rc(3);b.zc("inCall$",e.inCall$)}}function C(e,t){if(1&e&&(b.Wb(0),b.ad(1,S,4,10,"app-messaging-contacts",2),b.sc(2,"flAsync"),b.ad(3,M,1,1,"ng-template",null,3,b.bd),b.Vb()),2&e){const e=b.Nc(4),t=b.rc(2);b.Gb(1),b.zc("ngIf",!b.tc(2,2,t.isNewInboxWidgetInQueryParams$))("ngIfElse",e)}}function y(e,t){if(1&e){const e=b.Zb();b.Wb(0),b.Yb(1,"app-messaging-chat",1),b.nc("makingCall",function(t){return b.Qc(e),b.rc().setInCall(t)}),b.Xb(),b.ad(2,C,5,4,"ng-container",0),b.Vb()}if(2&e){const e=b.rc();b.Gb(1),b.zc("adminChatsOnly",e.hideMessaging)("inCall$",e.inCall$)("clickedOutside$",e.clickedOutside$),b.Gb(1),b.zc("ngIf",!e.hideMessaging)}}const I=100;let x=(()=>{class e{constructor(e,t,i,n,s,o,l){this.activatedRoute=e,this.elref=t,this.datastore=i,this.auth=n,this.messagingChat=s,this.localStorage=o,this.shellConfig=l,this.ChatViewState=a.b,this._isMinimisedSubject$=new r.a(1),this._inCallSubject$=new c.a(!1),this.inCall$=this._inCallSubject$.asObservable(),this.clickedOutsideSubject$=new c.a(!1),this.clickedOutside$=this.clickedOutsideSubject$.asObservable()}ngOnInit(){this.isLoggedIn$=this.auth.authState$.pipe(Object(d.a)(e=>!!e));const e=this.auth.getUserId();this.currentUserDoc=this.datastore.document("users",e),this.chatViewState$=this.shellConfig.getConfig(this.activatedRoute).pipe(Object(h.a)(e=>this.messagingChat.getViewState(e.containerSize)));const t=this.localStorage.get("webappThreadListMinimise").pipe(Object(g.a)(1),Object(d.a)(e=>e||!1));this.isMinimised$=o.a([l.a(t,this._isMinimisedSubject$),this.chatViewState$]).pipe(Object(d.a)(([e,t])=>e&&t===a.b.COMPACT)),this.isNewInboxWidgetInQueryParams$=this.activatedRoute.queryParams.pipe(Object(d.a)(e=>Object(s.m)(e).has("newInboxWidget")),Object(f.a)())}onClick(e){const t=this.elref.nativeElement.contains(e);this.clickedOutsideSubject$.next(!t)}onBlur(e){this.clickedOutsideSubject$.next(!0)}setInCall(e){this._inCallSubject$.next(e)}setMinimise(e){return Object(n.a)(this,void 0,void 0,function*(){yield this.localStorage.set("webappThreadListMinimise",e),this._isMinimisedSubject$.next(e)})}}return e.\u0275fac=function(t){return new(t||e)(b.Sb(s.a),b.Sb(b.l),b.Sb(u.a),b.Sb(p.a),b.Sb(a.d),b.Sb(m.a),b.Sb(T.a))},e.\u0275cmp=b.Mb({type:e,selectors:[["app-messaging"]],hostBindings:function(e,t){1&e&&b.nc("click",function(e){return t.onClick(e.target)},!1,b.Oc)("blur",function(e){return t.onBlur(e.target)},!1,b.Pc)},inputs:{hideMessaging:"hideMessaging"},decls:3,vars:5,consts:[[4,"ngIf"],[3,"adminChatsOnly","inCall$","clickedOutside$","makingCall"],["data-uitest-target","contactlist-new",3,"currentUser","inCall$","isCompact","isMinimised","makingCall","minimise",4,"ngIf","ngIfElse"],["displayNewInboxWidget",""],["data-uitest-target","contactlist-new",3,"currentUser","inCall$","isCompact","isMinimised","makingCall","minimise"],[3,"inCall$","makingCall"]],template:function(e,t){1&e&&(b.ad(0,y,3,4,"ng-container",0),b.sc(1,"flAsync"),b.sc(2,"flAsync")),2&e&&b.zc("ngIf",b.tc(1,1,t.isLoggedIn$)&&b.tc(2,3,t.chatViewState$)!==t.ChatViewState.NONE)},styles:["[_nghost-%COMP%]{align-items:flex-end;bottom:0;display:flex;flex-direction:row;height:100%;padding-right:env(safe-area-inset-right);pointer-events:none;position:fixed;right:0;z-index:1021}"],changeDetection:0}),e})()},wZbG:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i("o9eT"),s=i("8Y7J"),a=i("SVse");function r(e,t){if(1&e&&(s.Yb(0,"fl-text",1),s.cd(1),s.Xb()),2&e){const e=s.rc();s.zc("size",e.TextSize.XXSMALL)("weight",e.FontWeight.BOLD)("textTransform",e.TextTransform.UPPERCASE),s.Gb(1),s.ed(" ",e.label," ")}}let c=(()=>{class e{constructor(){this.TextSize=n.f,this.FontWeight=n.c,this.TextTransform=n.g}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Mb({type:e,selectors:[["fl-hr"]],inputs:{label:"label"},decls:1,vars:1,consts:[["class","HrText",3,"size","weight","textTransform",4,"ngIf"],[1,"HrText",3,"size","weight","textTransform"]],template:function(e,t){1&e&&s.ad(0,r,2,4,"fl-text",0),2&e&&s.zc("ngIf",t.label)},directives:[a.q,n.e],styles:['[_nghost-%COMP%]{align-items:center;display:flex;width:100%}[_nghost-%COMP%]:after, [_nghost-%COMP%]:before{border-top:1px solid #dedede;content:"";flex:1 1 auto}.HrText[_ngcontent-%COMP%]{flex:0 0 auto;padding-left:12px;padding-right:12px}'],changeDetection:0}),e})()}}]);
//# sourceMappingURL=default~app-app-shell-logged-in-routing-module~app-messaging-messaging-inbox-messaging-inbox-module-es2015.38dc180b3265fc615f90.js.map