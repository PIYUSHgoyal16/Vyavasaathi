(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"4m4w":function(e,t,i){"use strict";i.d(t,"a",function(){return a}),i.d(t,"b",function(){return s});var r=i("I+LH"),n=i("e+HA"),o=i("G4l3");function a(e){if(!(e.currency&&e.owner_id&&e.seo_url&&e.status&&e.type))throw new ReferenceError("Missing a required contest field.");return{id:e.id,currency:Object(n.a)(e.currency),description:e.description||"",skills:(e.jobs||[]).map(o.a),ownerId:e.owner_id,seoUrl:e.seo_url_new?e.seo_url_new.replace(/^\//,""):"",status:e.status,title:e.title||"",type:e.type,timeSubmitted:e.time_submitted?1e3*e.time_submitted:void 0,timePosted:e.time_posted?1e3*e.time_posted:void 0,timeEnded:e.time_ended?1e3*e.time_ended:void 0,timeSigned:e.time_signed?1e3*e.time_signed:void 0,upgrades:s(e.type,e.upgrades),entryCount:e.entry_count,duration:e.duration,prize:e.prize,draft:e.status===r.ContestStatusApi.INACTIVE,enterpriseId:e.enterprise_id}}function s(e,t){return{featured:(null==t?void 0:t.featured)||!1,guaranteed:e===r.ContestTypeApi.GUARANTEED||!1,highlight:(null==t?void 0:t.highlighted)||!1,nda:(null==t?void 0:t.nda)||!1,private:(null==t?void 0:t.nonpublic)||!1,sealed:(null==t?void 0:t.sealed)||!1,topContest:(null==t?void 0:t.topcontest)||!1,urgent:(null==t?void 0:t.urgent)||!1}}},EgRV:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var r=i("9u4R"),n=i("tqRt"),o=i("OpNG");function a(){return{defaultOrder:{field:"order",direction:o.a.ASC},fetch:(e,t,i,r)=>({endpoint:"notifications/preferences.php",isGaf:!0}),push:void 0,set:(e,t)=>({endpoint:"notifications/preferences.php",isGaf:!0,asFormData:!0,payload:{settings:JSON.stringify([t])}}),update:void 0,remove:void 0}}var s=i("cUs2");function d(e){return{id:e.channel,channel:e.channel,name:e.name,order:e.order,enabled:e.enabled,notify:e.notify,header:e.header,notificationType:e.notificationType}}function c(e={},t){switch(t.type){case"API_FETCH_SUCCESS":if("notificationsPreferences"===t.payload.type){const{result:i,ref:r,order:n}=t.payload;return Object(s.o)(e,Object(s.z)(i,d),n,r)}return e;case"API_SET_SUCCESS":if("notificationsPreferences"===t.payload.type){const{result:i,ref:r}=t.payload;return Object(s.q)(e,Object(s.z)(i,d),r)}return e;default:return e}}var u=i("8Y7J");let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Qb({type:e}),e.\u0275inj=u.Pb({imports:[[n.j.forFeature("notificationsPreferences",c),r.d.forFeature("notificationsPreferences",a)]]}),e})()},KPk5:function(e,t,i){"use strict";i.d(t,"a",function(){return r});const r=new Date("03/17/2020").getTime()},QcR0:function(e,t,i){"use strict";i.d(t,"a",function(){return b});var r=i("9u4R"),n=i("tqRt"),o=i("OpNG"),a=i("cUs2"),s=i("DXEH");function d(){return{defaultOrder:{field:"id",direction:o.a.DESC},fetch:(e,t,i,r)=>Object(a.h)(i,"milestoneId").length?{endpoint:"projects/getHourlyMilestoneInvoicesWithoutFeedback.php",isGaf:!0,params:{projectId:Object(a.h)(i,"projectId")[0],milestoneIds:Object(a.h)(i,"milestoneId")}}:{endpoint:"projects/0.1/invoices",isGaf:!1,params:{invoices:t,projects:Object(a.h)(i,"projectId"),bids:Object(a.h)(i,"bidId"),freelancers:Object(a.h)(i,"freelancerId"),employers:Object(a.h)(i,"employerId"),statuses:Object(a.h)(i,"status"),milestone_linked_statuses:c(i),latest_unreviewed_employer:Object(a.h)(i,"latestUnreviewedByEmployer")[0]}},push:void 0,set:void 0,update:void 0,remove:void 0}}function c(e){const t=Object(a.h)(e,"milestoneLinkedStatus");return 0===t.length?[s.ProjectInvoiceMilestoneLinkedStatusesApi.LINKED,s.ProjectInvoiceMilestoneLinkedStatusesApi.UNLINKED]:t}var u=i("f6cb"),l=i("e+HA");const p=e=>{var t;if(!(e.id&&e.employer_id&&e.freelancer_id&&e.project_id))throw Error("Invoice is missing a required field.");return{id:e.id,employerId:e.employer_id,freelancerId:e.freelancer_id,projectId:e.project_id,bidId:e.bid_id,status:e.status,isExternal:e.is_external,isAutomatic:e.is_automatic,currency:e.currency?Object(l.a)(e.currency):void 0,timeRaised:e.time_raised&&1e3*e.time_raised,periodEnd:e.period_end&&1e3*e.period_end,periodStart:e.period_start&&1e3*e.period_start,milestoneId:e.milestone_id,milestoneLinkedStatus:void 0===e.milestone_id?s.ProjectInvoiceMilestoneLinkedStatusesApi.UNLINKED:s.ProjectInvoiceMilestoneLinkedStatusesApi.LINKED,totalHours:e.total_hours||0,totalHoursAmount:e.total_hours_amount||0,totalResultAmount:e.total_result_amount||0,totalOtherAmount:e.total_other_amount||0,totalMilestoneAmount:e.total_milestone_amount||0,latestUnreviewedByEmployer:null!==(t=e.latest_unreviewed_employer)&&void 0!==t&&t}},h=e=>{const{data:t}=e;return{id:t.invoiceId,employerId:t.buyerId,freelancerId:t.sellerId,projectId:t.projectId,bidId:t.bidId,status:t.status,isExternal:t.isExternal,isAutomatic:t.isAutomatic,currency:Object(l.a)(t.currency),timeRaised:1e3*t.timeRaised,periodEnd:1e3*t.periodEnd,periodStart:1e3*t.periodStart,milestoneId:t.milestoneId||void 0,milestoneLinkedStatus:Object(u.g)(t.milestoneId)?s.ProjectInvoiceMilestoneLinkedStatusesApi.LINKED:s.ProjectInvoiceMilestoneLinkedStatusesApi.UNLINKED,totalHours:t.totalHours,totalHoursAmount:t.totalHoursAmount,totalResultAmount:t.totalResultAmount,totalOtherAmount:t.totalOtherAmount,totalMilestoneAmount:t.totalMilestoneAmount,latestUnreviewedByEmployer:t.latestUnreviewedByEmployer}};function f(e={},t){switch(t.type){case"API_FETCH_SUCCESS":if("invoices"===t.payload.type){const{result:i,ref:r,order:n}=t.payload;return Object(a.o)(e,Object(a.z)(i.invoices,p),n,r)}return e;case"WS_MESSAGE":if("notifications"===t.payload.parent_type){const i={path:{collection:"invoices",authUid:t.payload.toUserId}};switch(t.payload.type){case"invoiceUpdated":return Object(a.q)(e,[h(t.payload)],i);default:return e}}return e;case"API_PUSH_SUCCESS":if("reviews"===t.payload.type){const{payload:i}=t,{invoiceId:r}=i.document.context;if("invoice"===i.document.reviewType&&void 0!==r){const t={path:{collection:"invoice",authUid:i.ref.path.authUid}};return Object(a.A)(e,[r],e=>Object.assign(Object.assign({},e),{latestUnreviewedByEmployer:!1}),t)}}return e;default:return e}}var m=i("8Y7J");let b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.Qb({type:e}),e.\u0275inj=m.Pb({imports:[[n.j.forFeature("invoices",f),r.d.forFeature("invoices",d)]]}),e})()},VkX4:function(e,t,i){"use strict";i.d(t,"a",function(){return p});var r=i("9u4R"),n=i("tqRt"),o=i("OpNG"),a=i("cUs2");function s(){return{defaultOrder:{field:"id",direction:o.a.DESC},fetch:(e,t,i,r)=>({endpoint:"contests/0.1/contests",params:{contests:t,owners:Object(a.h)(i,"ownerId"),statuses:Object(a.h)(i,"status"),entry_counts:"true",entrants:i&&i.searchQueryParams&&i.searchQueryParams.entrants}}),push:(e,t)=>{return{endpoint:"contests/0.1/contests/",payload:{owner_id:t.ownerId,currency_id:t.currency.id,job_ids:t.skills.map(e=>e.id),title:t.title,prize:t.prize,description:t.description,duration:t.duration,type:t.type,upgrades:t.upgrades?(i=t.upgrades,{featured:i.featured,sealed:i.sealed,topcontest:i.topContest,highlighted:i.highlight,urgent:i.urgent,nonpublic:i.private,nda:i.nda}):{},draft:t.draft,file_ids:t.fileIds?t.fileIds:[]}};var i},set:void 0,update:void 0,remove:void 0}}var d=i("I+LH"),c=i("4m4w");function u(e={},t){switch(t.type){case"API_FETCH_SUCCESS":if("contests"===t.payload.type){const{result:i,ref:r,order:n}=t.payload;return i.contests?Object(a.o)(e,Object(a.z)(i.contests,c.a),n,r):e}if("threads"===t.payload.type){const i=t.payload.result.context_details;if(!i||!i.contests)return e;const{ref:r}=t.payload;return Object(a.q)(e,Object(a.z)(i.contests,c.a),{path:{collection:"contests",authUid:r.path.authUid}})}return e;case"API_PUSH_SUCCESS":if("contests"===t.payload.type){const{ref:i,result:r}=t.payload;return Object(a.q)(e,Object(a.z)([r],c.a),i)}return e;case"WS_MESSAGE":if("notifications"===t.payload.parent_type){const i={path:{collection:"contests",authUid:t.payload.toUserId}};switch(t.payload.type){case"contestCreated":return Object(a.A)(e,[t.payload.data.contest_id],e=>Object.assign(Object.assign({},e),{draft:!1}),i);case"contestUpgraded":if(t.payload.data.new_upgrade===d.ContestUpgradeApi.NONPUBLIC){const r=t.payload.data.seo_url;return Object(a.A)(e,[t.payload.data.contest_id],e=>Object.assign(Object.assign({},e),{seoUrl:r}),i)}break;default:return e}}return e;default:return e}}var l=i("8Y7J");let p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({imports:[[n.j.forFeature("contests",u),r.d.forFeature("contests",s)]]}),e})()},jnT3:function(e,t,i){"use strict";i.d(t,"a",function(){return f});var r=i("9u4R"),n=i("tqRt"),o=i("OpNG");function a(){return{defaultOrder:{field:"timeSubmitted",direction:o.a.DESC},fetch:(e,t,i,r)=>({endpoint:"projects/0.1/projects",params:{projects:t||[],job_details:"true"}}),push:void 0,set:void 0,update:void 0,remove:void 0}}var s=i("cUs2"),d=i("f6cb"),c=i("PL9m"),u=i("G4l3");function l(e){return Object.assign(Object.assign({},Object(c.a)(e)),{skills:Object(d.g)(e.jobs)?e.jobs.map(u.a):[]})}function p(e={},t){switch(t.type){case"API_FETCH_SUCCESS":if("threadProjects"===t.payload.type){const{result:i,ref:r,order:n}=t.payload;return i.projects?Object(s.o)(e,Object(s.z)(i.projects,l),n,r):e}if("threads"===t.payload.type){const i=t.payload.result.context_details;if(!i||!i.projects)return e;const{ref:r}=t.payload;return Object(s.q)(e,Object(s.z)(i.projects,l),{path:{collection:"threadProjects",authUid:r.path.authUid}})}return e;default:return e}}var h=i("8Y7J");let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.Qb({type:e}),e.\u0275inj=h.Pb({imports:[[n.j.forFeature("threadProjects",p),r.d.forFeature("threadProjects",a)]]}),e})()},yeKy:function(e,t,i){"use strict";i.d(t,"b",function(){return m}),i.d(t,"c",function(){return b}),i.d(t,"a",function(){return y}),i.d(t,"e",function(){return v}),i.d(t,"d",function(){return j});var r=i("mrSG"),n=i("f3kX"),o=i("uHzL"),a=i("f6cb"),s=i("tsv4"),d=i("2Vo4"),c=i("IzEk"),u=i("lJxs"),l=i("8Y7J"),p=i("lOjL"),h=i("L1P6"),f=i("HeVh"),m=function(e){return e.NONE="none",e.COMPACT="compact",e.FULL="full",e}({}),b=function(e){return e.PAGE="page",e.COLUMN="column",e}({}),y=function(e){return e.MINIMISED="minimised",e.REGULAR="regular",e.EXPANDED="expanded",e}({});const v={[y.MINIMISED]:{height:56,width:375},[y.REGULAR]:{height:405,width:375},[y.EXPANDED]:{height:675,width:475}};let j=(()=>{class e{constructor(e,t,i){this.location=e,this.localStorage=t,this.breakpointObserver=i,this.disableToastNotificationsSubject$=new d.a(!1),this.isToastDisabled$=this.disableToastNotificationsSubject$.asObservable()}canStartChat(){return Object(a.g)(this.liveChatHandler)}startChat({userIds:e,threadType:t,origin:i,context:r,threadId:n,focus:o=!0,doNotRedirect:a=!1}){if(this.liveChatHandler)this.liveChatHandler({userIds:e,threadType:t,origin:i,context:r,threadId:n,focus:o});else{if(a)return;if(n)this.location.navigateByUrl(`/messages/thread/${n}`);else{const i=new URL(`${window.location.origin}/messages/new`),n=i.searchParams;n.append("thread_type",t),r&&(n.append("context_type",r.type),r.type!==s.ContextTypeApi.NONE&&n.append("context_id",r.id.toString())),e.forEach(e=>{n.append("members",e.toString())}),this.location.navigateByUrl(`${i.pathname}${i.search}`)}}}registerLiveChat(e){this.liveChatHandler=e}unregisterLiveChat(){this.liveChatHandler=void 0}disableToastNotifications(){this.disableToastNotificationsSubject$.next(!0)}enableToastNotifications(){this.disableToastNotificationsSubject$.next(!1)}cleanStoredDraftMessages(){this.localStorage.get("webappChatDraftMessages").pipe(Object(c.a)(1)).toPromise().then(e=>Object(r.a)(this,void 0,void 0,function*(){if(!e)return;const t=Object(a.o)(e,(e,t)=>!(!t||!t.lastUpdated||Date.now()-t.lastUpdated>6048e5));yield this.localStorage.set("webappChatDraftMessages",t)}))}getDimensionLimits(e){return e?{min:{height:v[y.REGULAR].height,width:v[y.REGULAR].width},max:{height:window.innerHeight-114-40,width:620}}:{min:{height:210,width:260},max:{height:window.innerHeight-114-40,width:620}}}constrainChatboxDimensions(e,t){const i=this.getDimensionLimits(t),r={height:e.height,width:e.width};return e.height>i.max.height?r.height=i.max.height:e.height<i.min.height&&(r.height=i.min.height),e.width>i.max.width?r.width=i.max.width:e.width<i.min.width&&(r.width=i.min.width),r}isValidChatboxDimensions(e,t){const i=this.getDimensionLimits(t);return!(e.height>i.max.height||e.height<i.min.height||e.width>i.max.width||e.width<i.min.width)}getViewState(e){let t;switch(e){case o.b.DESKTOP_XLARGE:case o.b.DESKTOP_XXLARGE:t=n.a.DESKTOP_XXXLARGE;break;default:t=n.a.DESKTOP_XXLARGE}return this.breakpointObserver.observe([n.a.TABLET,t]).pipe(Object(u.a)(i=>i.breakpoints[n.a.TABLET]?i.breakpoints[t]&&e!==o.b.FLUID?m.FULL:m.COMPACT:m.NONE))}getInboxViewState(){return this.breakpointObserver.observe(n.a.TABLET).pipe(Object(u.a)(e=>e.matches?b.COLUMN:b.PAGE))}fitChatsToScreen(e,{offset:t=0,gap:i=0,useDimensions:r=!1}={}){let n=t;return e.filter(e=>(n+=(r&&e.dimensions?e.dimensions.width:e.width)+i,n<window.innerWidth))}}return e.\u0275fac=function(t){return new(t||e)(l.jc(p.a),l.jc(h.a),l.jc(f.a))},e.\u0275prov=l.Ob({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},ynQg:function(e,t,i){"use strict";i.d(t,"a",function(){return p});var r=i("9u4R"),n=i("tqRt"),o=i("OpNG"),a=i("cUs2");function s(){return{defaultOrder:{field:"id",direction:o.a.ASC},fetch:(e,t,i,r)=>({endpoint:"users/0.1/teams",isGaf:!1,params:{owners:Object(a.h)(i,"ownerUserId"),members:Object(a.h)(i,"members")[0]}}),push:void 0,set:void 0,update:void 0,remove:void 0}}var d=i("f6cb");function c(e){if(!e.id||!e.owner_user_id||!e.members||!e.name||e.members.find(e=>void 0===e.user_id))throw new ReferenceError("Missing a required team field.");return{id:e.id,ownerUserId:e.owner_user_id,members:e.members.map(e=>e.user_id).filter(d.g),name:e.name}}function u(e={},t){switch(t.type){case"API_FETCH_SUCCESS":if("teams"===t.payload.type){const{result:i,ref:r,order:n}=t.payload;return i.teams?Object(a.o)(e,Object(a.z)(i.teams,c),n,r):e}return e;default:return e}}var l=i("8Y7J");let p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({imports:[[n.j.forFeature("teams",u),r.d.forFeature("teams",s)]]}),e})()}}]);
//# sourceMappingURL=default~app-app-shell-logged-in-routing-module~app-messaging-messaging-chat-groupchat-management-mod~e125fe71-es2015.b0aa02b1cfc11d674a5b.js.map